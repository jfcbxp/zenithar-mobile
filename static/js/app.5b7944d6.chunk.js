(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{266:function(e,t,n){e.exports=n.p+"static/media/no-user.4a33880e.png"},343:function(e,t,n){"use strict";n.r(t),function(e){function r(t){var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));if("production"===(e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}),"production")&&"serviceWorker"in navigator){if(new URL(e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})?"/zenithar-mobile":void 0,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var r=(e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})?"/zenithar-mobile":void 0)+"/service-worker.js";n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(r,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):i(r,t)}))}}function i(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function o(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}n.d(t,"register",(function(){return r})),n.d(t,"unregister",(function(){return o}))}.call(this,n(38))},354:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return St}));var r=n(74),i=n(10),o=n(114),a=n(20),c=n(235),s=n(15),l=n.n(s),u=n(24),d=n.n(u),f=n(0),b=n(60),p=n(162),j=n(4),h=n.n(j),O=n(87),g=n(25),m=n(5),y=n(80),v=n(3);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=Object(f.useState)(1),n=l()(t,2),r=n[0],i=n[1];return Object(f.useEffect)((function(){e.disabled?i(.5):i(1)}),[e.disabled]),Object(v.jsx)(y.default,S(S({},e),{},{style:[C.button,{opacity:r}],disabled:e.disabled,children:Object(v.jsx)(g.default,{style:C.text,children:e.title})}))}var C=i.default.create({button:{width:"100%",backgroundColor:"#1F2D5A",alignItems:"center",justifyContent:"center",paddingVertical:12,paddingHorizontal:32,borderRadius:90,elevation:3,marginTop:16},text:{fontSize:16,fontWeight:"bold",letterSpacing:.25,color:"white"}});function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){return Object(v.jsx)(O.default,E(E({},e),{},{visible:e.visible,transparent:!0,animationType:"fade",children:Object(v.jsx)(m.default,{style:I.container,children:Object(v.jsxs)(m.default,{style:I.field,children:[Object(v.jsx)(g.default,{style:I.title,children:e.title}),Object(v.jsx)(g.default,{style:I.content,children:e.content}),Object(v.jsx)(w,{onPress:e.dismiss,title:"CONTINUAR"})]})})}))}var I=i.default.create({container:{flex:1,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.8)"},field:{marginHorizontal:"5%",backgroundColor:"#F0F2F7",borderRadius:18,padding:"5%"},title:{marginVertical:8,fontSize:24,fontWeight:"bold"},content:{marginVertical:8,paddingHorizontal:"5%",fontSize:16,textAlign:"justify"}}),T={user:void 0,company:void 0,department:void 0,urlBackend:void 0,loading:!0,signUp:function(){var e=d()((function*(){}));return function(){return e.apply(this,arguments)}}(),signIn:function(){var e=d()((function*(){}));return function(){return e.apply(this,arguments)}}(),signOut:function(){var e=d()((function*(){}));return function(){return e.apply(this,arguments)}}(),recoverPassword:function(){var e=d()((function*(){}));return function(){return e.apply(this,arguments)}}(),userUpdate:function(){var e=d()((function*(){}));return function(){return e.apply(this,arguments)}}(),addLog:function(){var e=d()((function*(){}));return function(){return e.apply(this,arguments)}}()},A=Object(f.createContext)(T),k=function(e){var t=e.children,n=Object(f.useState)(),r=l()(n,2),i=r[0],o=r[1],a=Object(f.useState)(""),c=l()(a,2),s=c[0],u=c[1],j=Object(f.useState)(""),h=l()(j,2),O=h[0],g=h[1],m=Object(f.useState)(""),y=l()(m,2),x=y[0],S=y[1],w=Object(f.useState)(!0),C=l()(w,2),P=C[0],E=C[1],I={title:"",content:"",visible:!1},T=Object(f.useState)(I),k=l()(T,2),z=k[0],N=k[1],F=Object(f.useState)(""),R=l()(F,2),_=R[0],L=R[1];Object(f.useEffect)((function(){b.firebaseAuth.onAuthStateChanged(function(){var e=d()((function*(e){e?e.emailVerified?i||(yield K(e.uid)):Q("E-mail n\xe3o verificado","Por favor verifique seu [e-mail]."):B(),E(!1)}));return function(t){return e.apply(this,arguments)}}())}),[]);var U=function(){var e=d()((function*(e,t,n,r){E(!0),yield b.firebaseAuth.createUserWithEmailAndPassword(e,t).then(function(){var e=d()((function*(e){if(e.user){var t=!0;if(b.firebaseAuth.languageCode="pt",e.user.sendEmailVerification().catch((function(e){t=!1,Q("Erro","Erro ao enviar o e-mail de verifica\xe7\xe3o. "+e.message)})),e.user&&t){var i=yield Y(r,e.user.uid),o={uid:e.user.uid,fullName:n,verified:!1,portrait:i,discountLimit:0};yield G(o)}}}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"auth/weak-password"===e.code?Q("Senha fraca","Informe uma senha mais forte."):"auth/invalid-email"===e.code?Q("E-mail inv\xe1lido","Por favor informe um e-mail v\xe1lido."):Q("Erro","Ocorreu um problema. "+e.message)}))}));return function(t,n,r,i){return e.apply(this,arguments)}}(),V=function(){var e=d()((function*(e,t){E(!0),yield b.firebaseAuth.signInWithEmailAndPassword(e,t).catch((function(e){e&&Q("Inv\xe1lido","Nenhum usu\xe1rio encontrado com as credenciais fornecidas."),E(!1)}))}));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=d()((function*(){E(!0),yield b.firebaseAuth.signOut(),o(void 0),u(""),g(""),E(!1)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=d()((function*(e){yield b.firebaseAuth.sendPasswordResetEmail(e).catch((function(e){Q("Erro","N\xe3o foi encontrado um usu\xe1rio com o endere\xe7o de e-mail fornecido. "+e.message)}))}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=d()((function*(e,t,n,r){E(!0);var a="";a=t!=(null==i?void 0:i.portrait)?yield Y(t,null==i?void 0:i.uid):null==i?void 0:i.portrait;var c=b.firebaseAuth.currentUser;yield b.realtime.ref("users").child(c.uid).update({fullName:e,portrait:a}).then((function(){var t=i;t.fullName=e,t.portrait=a,o(t)})),n&&r&&(yield $(n,r)),E(!1)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),Z=function(){var e=d()((function*(e){E(!0);var t=b.firebaseAuth.currentUser,n=null==i?void 0:i.logs;n&&e.length>n.length&&(e.forEach((function(t,n){"0"==t.id&&e.splice(n,1)})),e.forEach((function(e){switch(e.id){case"1":e.id="0";break;case"2":e.id="1";break;case"3":e.id="2";break;case"4":e.id="3";break;case"5":e.id="4"}}))),yield b.realtime.ref("users").child(t.uid).update({logs:e}).then((function(){var t=i;t.logs=e,o(t)})),E(!1)}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=d()((function*(e){var t=b.firebaseAuth.currentUser,n=p.default.auth.EmailAuthProvider.credential(t.email,e);return yield t.reauthenticateWithCredential(n)}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=d()((function*(e,t){e&&t&&(yield H(e).then(d()((function*(){var e;yield null==(e=b.firebaseAuth.currentUser)?void 0:e.updatePassword(t).then(d()((function*(){yield q()}))).catch((function(e){Q("Erro",e.message)}))}))).catch((function(e){Q("Erro",e.message)})))}));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=d()((function*(){return new Promise((function(e){Q("Altera\xe7\xe3o de senha","Sua senha foi alterada. Efetue acesso novamente."),B()}))}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=d()((function*(e,t){var n=yield fetch(e),r=yield n.blob(),i=t,o="";return yield b.storage.ref().child(""+i).put(r).then(function(){var e=d()((function*(e){o=yield e.ref.getDownloadURL()}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)})),o}));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=d()((function*(e){yield b.realtime.ref("users").child(e.uid).set({fullName:e.fullName,portrait:e.portrait,discountLimit:e.discountLimit,verified:e.verified}).then((function(){o(e)}))}));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=d()((function*(e){yield b.realtime.ref("users").child(e).once("value").then(function(){var t=d()((function*(t){var n={uid:e,fullName:t.val().fullName,portrait:t.val().portrait,company:t.val().company,department:t.val().department,discountLimit:t.val().discountLimit,verified:t.val().verified,branches:t.child("branches").val(),logs:t.child("logs").val()};if(!n.verified){var r=yield p.default.auth().currentUser;null!=r&&r.emailVerified&&(n.verified=!0,yield G(n))}o(n),n.department&&(yield J(n.department)),n.company&&(yield X(n.company))}));return function(e){return t.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=d()((function*(e){yield b.realtime.ref("departments").child(e).once("value").then(function(){var e=d()((function*(e){return g(e.val())}));return function(t){return e.apply(this,arguments)}}())}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=d()((function*(e){var t=new Date,n=t.getDate(),r=t.getMonth()+1,i=t.getFullYear();yield b.realtime.ref("companies").child(e).once("value").then((function(e){L(e.val().expireAt),S(e.val().urlBackend),u(e.val().name)}));var o=parseInt(_[0]+_[1]),a=parseInt(_[3]+_[4]);parseInt(_[5]+_[6]+_[7]+_[8])<=i&&a<=r&&o<=n&&(Q("Licen\xe7a","Sua licen\xe7a expirou em "+_),B())}));return function(t){return e.apply(this,arguments)}}(),Q=function(e,t){N({title:e,content:t,visible:!0})},ee=Object(f.useMemo)((function(){return{user:i,company:s,department:O,urlBackend:x,loading:P,signUp:U,signIn:V,signOut:B,recoverPassword:M,userUpdate:W,addLog:Z}}),[i,s,O,x,P,U,V,B,M,W,Z]);return Object(v.jsxs)(A.Provider,{value:ee,children:[Object(v.jsx)(D,{title:z.title,content:z.content,visible:z.visible,dismiss:function(){N(I)}}),t]})},z=n(113),N=n(532),F=n(72),R=n(48),_=n(68),L=n(530),U=n(66),V=i.default.create({input:{width:"100%",height:40,backgroundColor:"white",color:"#123262",fontSize:16,fontWeight:"bold",borderRadius:18,paddingHorizontal:16,marginBottom:16}});function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){return Object(v.jsx)(U.default,M(M({},e),{},{placeholder:"Nome completo",placeholderTextColor:"#1F537E",style:V.input}))}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){return Object(v.jsx)(U.default,H(H({},e),{},{textContentType:"password",secureTextEntry:!0,autoCapitalize:"none",placeholder:e.placeholder?e.placeholder:"Senha",placeholderTextColor:"#1F537E",style:V.input}))}function q(e){return Object(v.jsxs)(m.default,{style:Y.container,children:[Object(v.jsx)(R.default,{source:e.source?{uri:e.source}:n(266),style:Y.image}),Object(v.jsx)(w,{title:"SELECIONAR",onPress:e.onPress})]})}var Y=i.default.create({container:{width:172,alignItems:"center",justifyContent:"center",alignSelf:"center",marginVertical:16},image:{width:128,height:128,borderRadius:90,marginBottom:2}}),G=n(218),K=n(91);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){return Object(v.jsx)(_.default,X(X({},e),{},{children:Object(v.jsx)(g.default,{style:ee.text,children:e.title})}))}var ee=i.default.create({text:{width:"100%",height:40,fontSize:16,fontWeight:"bold",letterSpacing:.25,color:"#1F537E",textAlign:"center",marginBottom:40}});function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=e.fullName,n=e.portrait,r=Object(f.useState)(t),i=l()(r,2),o=i[0],a=i[1],c=Object(f.useState)(""),s=l()(c,2),u=s[0],b=s[1],p=Object(f.useState)(""),j=l()(p,2),h=j[0],g=j[1],y=Object(f.useState)(""),x=l()(y,2),S=x[0],C=x[1],P=Object(f.useState)(n),E=l()(P,2),T=E[0],A=E[1],k=Object(f.useState)(),z=l()(k,2),N=z[0],F=z[1],R=Object(f.useState)(!1),_=l()(R,2),L=_[0],U=_[1],V={title:"",content:"",visible:!1},B=Object(f.useState)(V),M=l()(B,2),Z=M[0],H=M[1];Object(f.useEffect)((function(){N||U(T==n&&o==t)}),[T,o]),Object(f.useEffect)((function(){N&&(u.length>5&&h.length>5&&S.length>5?h==S&&U(!1):U(!0))}),[S]);var Y=function(){var e=d()((function*(){var e=yield G.launchImageLibraryAsync({mediaTypes:K.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:.1});e.canceled||A(e.assets[0].uri)}));return function(){return e.apply(this,arguments)}}(),J=function(){var t=d()((function*(){""==o?ee("Dados mandat\xf3rios","Por favor, preencher todos os campos"):yield e.userUpdate(o,T,u,h),X()}));return function(){return t.apply(this,arguments)}}(),X=function(){F(void 0),U(!1),b(""),g(""),C(""),a(t),A(n)},ee=function(e,t){H({title:e,content:t,visible:!0})};return Object(v.jsxs)(O.default,ne(ne({},e),{},{visible:e.visible,transparent:!0,animationType:"fade",children:[Object(v.jsx)(m.default,{style:I.container,children:Object(v.jsxs)(m.default,{style:I.field,children:[Object(v.jsx)(q,{source:T,onPress:Y}),Object(v.jsx)(W,{value:o,onChangeText:a,maxLength:20}),!N&&Object(v.jsx)(Q,{onPress:function(){U(!0),F(!0)},title:"Alterar senha"}),N&&Object(v.jsxs)(m.default,{children:[Object(v.jsx)($,{value:u,onChangeText:b,placeholder:"Senha atual"}),Object(v.jsx)($,{value:h,onChangeText:g,placeholder:"Nova senha"}),Object(v.jsx)($,{value:S,onChangeText:C,placeholder:"Confirmar nova senha"})]}),Object(v.jsx)(w,{onPressIn:X,onPressOut:e.dismiss,title:"CANCELAR"}),Object(v.jsx)(w,{disabled:L,onPressIn:J,onPressOut:e.dismiss,title:"CONFIRMAR"})]})}),Z.visible&&Object(v.jsx)(D,{title:Z.title,content:Z.content,visible:Z.visible,dismiss:function(){H(V)}})]}))}function ie(e){var t=Object(f.useState)(!1),r=l()(t,2),i=r[0],o=r[1],a=function(){var t=d()((function*(){e.signOut()}));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)(m.default,{style:oe.header,children:[Object(v.jsx)(_.default,{onPress:function(){o(!0)},children:Object(v.jsxs)(m.default,{style:oe.container,children:[Object(v.jsx)(R.default,{source:e.portrait?{uri:e.portrait}:n(266),style:oe.image}),Object(v.jsxs)(m.default,{children:[Object(v.jsx)(g.default,{style:oe.fullName,children:e.fullName}),Object(v.jsx)(g.default,{style:oe.descriptions,children:e.company}),Object(v.jsx)(g.default,{style:oe.descriptions,children:e.department})]}),Object(v.jsx)(L.default,{name:"logout",size:32,color:"white",onPress:a,style:{marginLeft:"auto"}})]})}),i&&Object(v.jsx)(re,{fullName:e.fullName,portrait:e.portrait,userUpdate:e.userUpdate,visible:i,dismiss:function(){o(!1)}})]})}var oe=i.default.create({header:{backgroundColor:"#1F2D5A"},container:{flexDirection:"row",alignItems:"center",marginHorizontal:"5%",marginTop:"2.5%",marginBottom:"2.5%"},image:{width:52,height:52,borderRadius:90,borderColor:"white",borderWidth:1,marginRight:13},fullName:{fontSize:24,fontWeight:"bold",color:"white"},descriptions:{fontSize:13,color:"white"}});function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){return Object(v.jsx)(_.default,ce(ce({},e),{},{style:le.container,children:Object(v.jsxs)(m.default,{style:le.area,children:[Object(v.jsx)(L.default,{name:e.icon,size:42,color:"#123262",style:{alignSelf:"center"}}),Object(v.jsx)(g.default,{style:le.text,children:e.title})]})}))}var le=i.default.create({container:{width:100,height:100,borderRadius:18,borderWidth:1,borderColor:"#8894ac",backgroundColor:"white",alignItems:"center"},area:{flex:1,flexDirection:"column",justifyContent:"space-around",paddingVertical:14},text:{fontSize:14,fontWeight:"bold",color:"#123262",textAlign:"center",textAlignVertical:"center"}});function ue(){return Object(v.jsx)(m.default,{style:de.divider})}var de=i.default.create({divider:{borderBottomWidth:1,borderColor:"silver"}});function fe(e){return Object(v.jsxs)(m.default,{style:be.container,children:[Object(v.jsx)(g.default,{style:be.title,children:e.title}),Object(v.jsx)(ue,{}),e.children]})}var be=i.default.create({container:{flex:1,width:"100%",padding:"2.5%",borderTopLeftRadius:18,borderTopRightRadius:18,borderWidth:1,borderColor:"#8894ac",backgroundColor:"white"},title:{fontSize:18,fontWeight:"bold",color:"#1F537E",marginBottom:"2.5%"}}),pe=n(16),je=n.n(pe),he=n(110),Oe=n(19),ge=n(64),me=n(357);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){return Object(v.jsx)(me.default,ve(ve({},e),{},{style:Se.picker,textStyle:Se.font,labelStyle:Se.font}))}var Se=i.default.create({picker:{backgroundColor:"white",marginBottom:24,height:40,paddingHorizontal:16,borderWidth:0,borderRadius:18},font:{fontSize:16,fontWeight:"bold",color:"#123262"}}),we=i.default.create({container:{flex:1,justifyContent:"flex-end",backgroundColor:"rgba(0, 0, 0, 0.8)"},field:{position:"absolute",width:"100%",height:"50%",alignItems:"center",paddingHorizontal:"5%",backgroundColor:"#F0F2F7",borderTopLeftRadius:18,borderTopRightRadius:18,zIndex:99},title:{fontSize:24,fontWeight:"bold",color:"#454545",marginVertical:32}}),Ce=n(319);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return Object(v.jsx)(Ce.TextInputMask,Ee(Ee({},e),{},{includeRawValueInChangeText:!0,placeholderTextColor:"#123262",style:V.input}))}function Ie(e){var t=Object(ge.useNavigation)(),n=Object(f.useState)(""),r=l()(n,2),o=r[0],a=r[1],c=Object(f.useState)(""),s=l()(c,2),u=s[0],d=s[1],b=Object(f.useState)(),p=l()(b,2),j=p[0],h=p[1],y=Object(f.useRef)(new Oe.default.Value(400)).current,x=Object(f.useState)(!1),S=l()(x,2),C=S[0],P=S[1],E=Object(f.useState)(!1),D=l()(E,2),I=D[0],T=D[1];return Object(f.useEffect)((function(){var t=e.branches;if(t){var n=[];Object.entries(t).forEach((function(e){var t=l()(e,2),r=(t[0],t[1]);n=[].concat(je()(n),[{value:r.id,label:r.id+" - "+r.name}])})),h(n)}}),[]),Object(f.useEffect)((function(){6==o.length&&he.default.dismiss(),6==o.length&&u?T(!1):T(!0)}),[o,u]),Object(v.jsx)(O.default,{transparent:!0,visible:e.visible,animationType:"fade",onShow:function(){Oe.default.timing(y,{toValue:1,duration:500,useNativeDriver:!1}).start()},children:Object(v.jsxs)(m.default,{style:we.container,children:[Object(v.jsx)(_.default,{onPressIn:function(){y.setValue(400),d(""),a(""),P(!1)},onPressOut:e.dismiss,style:i.default.absoluteFillObject}),Object(v.jsxs)(Oe.default.View,{style:[{transform:[{translateY:y}]},we.field],children:[Object(v.jsx)(g.default,{style:we.title,children:"Desconto"}),Object(v.jsx)(De,{value:o,onChangeText:a,autoCapitalize:"characters",placeholder:"N\xfamero do Or\xe7amento",maxLength:6,type:"custom",options:{mask:"SSSSSS"}}),Object(v.jsx)(xe,{items:j,value:u,setValue:d,open:C,setOpen:P,placeholder:"Filiais"}),Object(v.jsx)(w,{title:"CONTINUAR",onPressIn:function(){t&&t.navigate("Discount",{_budget:o.toUpperCase(),_branch:u}),y.setValue(400),P(!1),d(""),a("")},onPressOut:e.dismiss,disabled:I})]})]})})}var Te,Ae=n(92);function ke(e){var t=e.data;return Object(v.jsxs)(m.default,{children:[Object(v.jsxs)(m.default,{style:ze.container,children:[Object(v.jsxs)(m.default,{style:{flexDirection:"row"},children:[Object(v.jsx)(L.default,{testID:"icon",name:t.type===Te.LIBERACAO_ORCAMENTO?"attach-money":"check-box",size:28,color:"#123262",style:{alignSelf:"center"}}),Object(v.jsxs)(m.default,{children:[Object(v.jsx)(g.default,{testID:"title",style:ze.text,children:t.title+" - "+t.id}),Object(v.jsx)(g.default,{testID:"description",style:ze.sub,children:t.description})]})]}),Object(v.jsx)(g.default,{testID:"date",style:ze.sub,children:t.date})]}),Object(v.jsx)(ue,{})]})}!function(e){e.DESCONTO_ORCAMENTO="DESCONTO_ORCAMENTO",e.LIBERACAO_ORCAMENTO="LIBERACAO_ORCAMENTO"}(Te||(Te={}));var ze=i.default.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:12},text:{fontSize:12,fontWeight:"bold",color:"#123262"},sub:{fontSize:10,color:"#8894ac"}});function Ne(e){return Object(v.jsx)(Ae.default,{data:e.data,renderItem:function(e){var t=e.item;return Object(v.jsx)(ke,{data:t})}})}function Fe(e){e.navigation;var t,n,i,o,a=Object(f.useContext)(A),c=null==(t=a.user)?void 0:t.logs,s=Object(f.useState)("Hist\xf3rico"),u=l()(s,1)[0],d=Object(f.useState)(Object(v.jsx)(Ne,{data:null==c?void 0:c.reverse()})),b=l()(d,1)[0],p=Object(f.useState)(!1),j=l()(p,2),h=j[0],O=j[1],g={title:"",content:"",visible:!1},y=Object(f.useState)(g),x=l()(y,2),S=x[0],w=x[1],C=function(e,t){w({title:e,content:t,visible:!0})};return Object(v.jsxs)(m.default,{style:Re.container,children:[Object(v.jsx)(m.default,{children:Object(v.jsx)(ie,{userUpdate:a.userUpdate,signOut:a.signOut,fullName:null==(n=a.user)?void 0:n.fullName,portrait:null==(i=a.user)?void 0:i.portrait,company:a.company,department:a.department})}),Object(v.jsx)(F.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Re.menu,children:Object(v.jsx)(se,{icon:"attach-money",title:"Desconto",onPress:function(){a.company?O(!0):C("Alerta","Voc\xea n\xe3o possui autoriza\xe7\xe3o para utilizar esta op\xe7\xe3o.")}})}),Object(v.jsx)(m.default,{style:Re.field,children:Object(v.jsx)(fe,{title:u,children:b})}),h&&Object(v.jsx)(Ie,{visible:h,branches:null==(o=a.user)?void 0:o.branches,dismiss:function(){O(!1)}}),Object(v.jsx)(D,{title:S.title,content:S.content,visible:S.visible,dismiss:function(){w(g)}}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1,backgroundColor:"#212A4D"})]})}var Re=i.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"#F0F2F7"},menu:{flex:1,marginVertical:"5%",marginHorizontal:"5%"},field:{flex:4,flexDirection:"column",marginHorizontal:"5%"}});function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e){return Object(v.jsx)(U.default,Le(Le({},e),{},{placeholderTextColor:"#123262",style:V.input}))}function Ve(e){var t=Object(ge.useNavigation)(),n=Object(f.useRef)(new Oe.default.Value(400)).current,r=Object(f.useState)(""),o=l()(r,2),a=o[0],c=o[1],s=Object(f.useState)(""),u=l()(s,2),d=u[0],b=u[1],p=Object(f.useState)(""),j=l()(p,2),h=j[0],y=j[1],x={title:"",content:"",visible:!1},S=Object(f.useState)(x),C=l()(S,2),P=C[0],E=C[1],I=Object(f.useState)(0),T=l()(I,2),A=T[0],k=T[1],z=function(){E(x),c(""),b(""),y("")},N=function(){z(),n.setValue(400)},F=function(e,t){E({title:e,content:t,visible:!0})};return Object(v.jsx)(O.default,{transparent:!0,visible:e.visible,animationType:"fade",onShow:function(){Oe.default.timing(n,{toValue:1,duration:500,useNativeDriver:!1}).start()},children:Object(v.jsxs)(m.default,{style:we.container,children:[Object(v.jsx)(_.default,{onPressIn:function(){return N()},onPressOut:e.dismiss,style:i.default.absoluteFillObject}),Object(v.jsxs)(Oe.default.View,{style:[{transform:[{translateY:n}]},we.field],children:[Object(v.jsx)(g.default,{style:we.title,children:"Desconto"}),""==h?Object(v.jsx)(g.default,{style:{fontSize:24,marginBottom:16},children:"\xa0"}):Object(v.jsxs)(g.default,{style:{fontSize:24,fontWeight:"bold",color:"red",marginBottom:16},children:["R$ ",h]}),Object(v.jsx)(Ue,{value:a,onChangeText:function(t){2==t.length&&(t+="."),c(t),function(t){var n=e.total;if(t>e.discountLimit)F("Aviso","Limite de desconto permitido: "+e.discountLimit+"%");else{var r=n*t/100;b(r.toFixed(2)),y((n-=r).toFixed(2).replace(".",",")),k(r)}}(parseFloat(t))},onFocus:function(){z()},keyboardType:"numeric",maxLength:7,placeholder:"Desconto %"}),Object(v.jsx)(De,{value:d,onChangeText:function(t,n){b(n),function(t){var n=e.total,r=100*t/n;r>e.discountLimit?F("Aviso","Limite de desconto permitido: "+e.discountLimit+"%"):(c(r.toString()),y((n-=t).toFixed(2).replace(".",",")),k(t))}(parseFloat(n))},placeholder:"Desconto Valor",onFocus:function(){z()},type:"money",options:{precision:2,separator:",",delimiter:".",unit:"R$ ",suffixUnit:""}}),Object(v.jsx)(w,{title:"CONTINUAR",onPressIn:function(){t&&t.navigate("Discount",{_budget:e.budget,_branch:e.branch,_discountValue:A}),N()},onPressOut:e.dismiss})]}),Object(v.jsx)(D,{visible:P.visible,title:P.title,content:P.content,dismiss:z})]})})}var Be=n(540);function Me(e,t){return t?Be.default.create({baseURL:e+"/zenithar/",withCredentials:!0,headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},timeout:5e3}):Be.default.create({baseURL:e+"/zenithar/",timeout:5e3})}var We=n(211);function Ze(e){for(var t=We.Buffer.from(e).toString("base64"),n=4;n--;)t=We.Buffer.from(t).toString("base64");return t}function He(e,t){return $e.apply(this,arguments)}function $e(){return($e=d()((function*(e,t){var n={uuid:e,secret:Ze(t)},r=Me(t);return(yield r.post("auth/token",n)).data}))).apply(this,arguments)}function qe(){return(qe=d()((function*(e,t,n,r){var i=Me(r,n),o="orcamento/consultar?numeroOrcamento="+e+"&empresa="+t;return(yield i.get(o)).data}))).apply(this,arguments)}function Ye(){return(Ye=d()((function*(e,t,n,r,i){var o=Me(i,r),a="orcamento/efetuarDesconto?numeroOrcamento="+e+"&empresa="+t+"&valorDesconto="+n;yield o.patch(a,r)}))).apply(this,arguments)}var Ge=n(531);function Ke(e){var t=Object(f.useState)(!1),n=l()(t,2),r=n[0],i=n[1];return Object(v.jsxs)(m.default,{children:[Object(v.jsx)(_.default,{style:Je.container,onPress:function(){i((function(e){return!e}))},children:Object(v.jsxs)(m.default,{style:Je.area,children:[Object(v.jsx)(g.default,{style:Je.text,children:e.title}),Object(v.jsx)(Ge.default,{testID:"icon",name:!1===r?"chevron-down":"chevron-up",size:32})]})}),r&&Object(v.jsx)(m.default,{style:Je.children,children:Object(v.jsx)(c.FlatList,{data:e.data,renderItem:e.renderItem})})]})}var Je=i.default.create({container:{marginVertical:"1.25%",paddingHorizontal:"5%",paddingVertical:"2.5%",borderTopStartRadius:9,borderTopEndRadius:9,justifyContent:"center",backgroundColor:"#DFE1E6"},area:{flexDirection:"row",justifyContent:"space-between"},children:{justifyContent:"center"},text:{fontSize:20},subText:{fontSize:13}});function Xe(e){var t=e.data;return Object(v.jsxs)(m.default,{style:Qe.container,children:[Object(v.jsx)(m.default,{style:{flex:2},children:Object(v.jsx)(m.default,{style:Qe.noPhoto,children:Object(v.jsx)(g.default,{style:Qe.noPhotoText,children:t.descricaoProduto.charAt(0).toUpperCase()})})}),Object(v.jsxs)(m.default,{style:{flex:5},children:[Object(v.jsxs)(m.default,{style:{flex:4},children:[Object(v.jsxs)(g.default,{style:Qe.title,children:[t.produto," ",t.descricaoProduto]}),Object(v.jsxs)(g.default,{style:Qe.description,children:["Armazem: ",t.armazem]}),Object(v.jsxs)(g.default,{style:Qe.description,children:["Tipo: ",t.tipoEntrega]})]}),Object(v.jsxs)(m.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[Object(v.jsxs)(g.default,{style:Qe.title,children:[t.quantidade," x R$ ",t.preco.toFixed(2).replace(".",",")]}),Object(v.jsxs)(g.default,{style:Qe.title,children:["R$ ",t.total.toFixed(2).replace(".",",")]})]})]})]})}var Qe=i.default.create({container:{flex:1,flexDirection:"row",backgroundColor:"#DFE1E6",borderRadius:10,padding:8,marginVertical:4},title:{fontSize:16,fontWeight:"bold",color:"#123262"},description:{fontSize:12,color:"grey"},noPhoto:{width:100,height:100,alignItems:"center",justifyContent:"center",borderRadius:10,backgroundColor:"#123262"},noPhotoText:{fontSize:48,fontWeight:"bold",color:"white"}});function et(e){var t=e.data,n=+t.valor,r=+t.parcelas,i=Object(f.useState)(n/r),o=l()(i,1)[0];return Object(v.jsxs)(m.default,{style:tt.container,children:[Object(v.jsx)(g.default,{style:tt.title,children:t.forma}),Object(v.jsxs)(m.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(v.jsxs)(g.default,{style:tt.description,children:[t.parcelas," x R$ ",o.toFixed(2).replace(".",",")]}),Object(v.jsxs)(g.default,{style:tt.title,children:["R$ ",t.valor.toFixed(2).replace(".",",")]})]})]})}var tt=i.default.create({container:{backgroundColor:"#DFE1E6",borderRadius:10,padding:8,marginVertical:4},title:{fontSize:16,fontWeight:"bold",color:"#123262"},description:{fontSize:12,color:"grey"}});function nt(e){var t=e.route,n=e.navigation,i=t.params,o=i._budget,a=i._branch,c=i._discountValue,s=Object(f.useContext)(A),u=Object(f.useState)(!1),d=l()(u,2),b=d[0],p=d[1],j=Object(f.useState)(),h=l()(j,2),O=h[0],y=h[1],x={title:"",content:"",visible:!1},S=Object(f.useState)(x),C=l()(S,2),P=C[0],E=C[1];Object(f.useEffect)((function(){var e;He(null==(e=s.user)?void 0:e.uid,s.urlBackend).then((function(e){(function(e,t,n,r){return qe.apply(this,arguments)})(o,a,null==e?void 0:e.token,s.urlBackend).then((function(e){return y(e)})).catch((function(e){Be.default.isAxiosError(e)?T("Erro","Servidor indispon\xedvel"):T("Erro",e.response.data.error)}))})).catch((function(e){Be.default.isAxiosError(e)?T("Erro","Servidor indispon\xedvel"):T("Erro",e.response.data.error)}))}),[]);var I,T=function(e,t){E({title:e,content:t,visible:!0})};return O?Object(v.jsxs)(m.default,{style:rt.container,children:[Object(v.jsxs)(m.default,{style:rt.topField,children:[Object(v.jsxs)(m.default,{style:rt.header,children:[Object(v.jsx)(L.default,{testID:"icon",name:"keyboard-arrow-left",size:48,color:"white",onPress:function(){n&&n.navigate("Home")}}),Object(v.jsxs)(g.default,{style:rt.headerText,children:["Or\xe7amento #",o]})]}),Object(v.jsxs)(m.default,{style:{flex:4,justifyContent:"space-between",paddingBottom:8},children:[Object(v.jsxs)(m.default,{children:[Object(v.jsx)(g.default,{style:rt.title,children:"Vendedor"}),Object(v.jsxs)(g.default,{style:rt.subTitle,children:[O.vendedor," - ",O.nomeVendedor]}),Object(v.jsx)(g.default,{style:rt.title,children:"Cliente"}),Object(v.jsxs)(g.default,{style:rt.subTitle,children:[O.cliente," - ",O.nomeCliente]})]}),Object(v.jsxs)(m.default,{style:rt.budget,children:[Object(v.jsxs)(m.default,{style:{flexDirection:"row",alignItems:"flex-end"},children:[Object(v.jsx)(m.default,{style:[{backgroundColor:"limegreen"},rt.box],children:Object(v.jsx)(g.default,{style:rt.headerText,children:O.tipoOrcamento})}),Object(v.jsx)(m.default,{style:[{backgroundColor:"red"},rt.box],children:Object(v.jsx)(g.default,{style:rt.headerText,children:O.statusOrcamento})})]}),O.desconto>0?Object(v.jsxs)(m.default,{children:[Object(v.jsxs)(g.default,{style:{fontSize:18,fontWeight:"bold",color:"grey",textDecorationLine:"line-through"},children:["R$ ",O.totalBruto.toFixed(2).replace(".",",")]}),Object(v.jsxs)(g.default,{style:{fontSize:24,fontWeight:"bold",color:"red"},children:["R$ ",O.totalLiquido.toFixed(2).replace(".",",")]})]}):Object(v.jsxs)(g.default,{style:{fontSize:24,fontWeight:"bold",color:"white"},children:["R$ ",O.totalLiquido.toFixed(2).replace(".",",")]})]})]})]}),Object(v.jsxs)(m.default,{style:rt.bottomField,children:[Object(v.jsxs)(m.default,{style:{flex:5,paddingTop:"2.5%"},children:[Object(v.jsx)(Ke,{title:"Itens",renderItem:function(e){var t=e.item;return Object(v.jsx)(Xe,{data:t})},data:O.itens}),Object(v.jsx)(Ke,{renderItem:function(e){var t=e.item;return Object(v.jsx)(et,{data:t})},title:"Forma de pagamento",data:O.pagamentos})]}),Object(v.jsx)(m.default,{style:{flex:1},children:Object(v.jsx)(w,{onPress:function(){return p(!0)},title:"CONTINUAR"})})]}),Object(v.jsx)(Ve,{dismiss:function(){n.navigate("DiscountConfirmation",{_budget:o,_branch:a,_budgetObject:O,_discountValue:c}),p(!1)},discountLimit:null==(I=s.user)?void 0:I.discountLimit,visible:b,budget:o,branch:a,total:O.totalBruto}),Object(v.jsx)(D,{visible:P.visible,title:P.title,content:P.content,dismiss:function(){return E(x)}}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1,backgroundColor:"#212A4D"})]}):Object(v.jsxs)(m.default,{style:rt.loading,children:[Object(v.jsx)(z.default,{size:128,color:"white"}),Object(v.jsx)(D,{visible:P.visible,title:P.title,content:P.content,dismiss:function(){n.navigate("Home"),E(x)}})]})}var rt=i.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"#F0F2F7"},loading:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#212A4D"},header:{flex:1,flexDirection:"row",alignItems:"center"},headerText:{fontSize:16,fontWeight:"bold",color:"white"},topField:{flex:2,backgroundColor:"#1F2D5A"},title:{fontSize:14,color:"silver",paddingHorizontal:"5%"},subTitle:{fontSize:16,color:"white",paddingHorizontal:"5%",marginBottom:8},budget:{flexDirection:"row",justifyContent:"space-between",marginHorizontal:"5%"},box:{height:30,alignItems:"center",justifyContent:"center",borderRadius:4,paddingHorizontal:8,marginRight:8},bottomField:{flex:4,flexDirection:"column",marginHorizontal:"5%"}}),it=n(356);function ot(e){return Object(v.jsx)(it.SwipeButton,{Icon:Object(v.jsx)(L.default,{name:"keyboard-arrow-right",size:42,color:"white"}),onComplete:e.onComplete,title:e.title,titleStyle:at.title,underlayTitle:e.underlayTitle,underlayTitleStyle:at.title,underlayStyle:{backgroundColor:"#212A4D"},borderRadius:180,containerStyle:{backgroundColor:"#1F2D5A",borderRadius:180},circleBackgroundColor:"#163E60",circleSize:58,iconContainerStyle:{paddingLeft:16}})}var at=i.default.create({title:{fontSize:16,fontWeight:"bold",color:"white"}});function ct(e){var t,n=e.navigation,i=e.route.params,o=i._branch,a=i._budget,c=i._budgetObject,s=i._discountValue,u=Object(f.useContext)(A),d={title:"",content:"",visible:!1},b=Object(f.useState)(d),p=l()(b,2),j=p[0],h=p[1],O=null==(t=u.user)?void 0:t.logs,y=new Date,x=y.getDate(),S=y.getMonth()+1,w=y.getFullYear(),C=function(e,t){h({title:e,content:t,visible:!0})};return"Erro"!=j.title?Object(v.jsxs)(F.default,{contentContainerStyle:st.container,scrollEnabled:!1,children:[Object(v.jsxs)(m.default,{style:st.topField,children:[Object(v.jsxs)(m.default,{style:st.header,children:[Object(v.jsx)(L.default,{testID:"icon",name:"keyboard-arrow-left",size:48,color:"white",onPress:function(){n&&n.navigate("Home")}}),Object(v.jsx)(g.default,{style:st.headerText,children:"Desconto"})]}),Object(v.jsx)(g.default,{style:st.client,children:c.nomeCliente}),Object(v.jsxs)(g.default,{style:st.budget,children:["Or\xe7amento #",a]})]}),Object(v.jsxs)(m.default,{style:st.bottomField,children:[Object(v.jsxs)(m.default,{children:[Object(v.jsx)(g.default,{style:st.result,children:c.tipoOrcamento}),Object(v.jsx)(g.default,{style:st.description,children:"Tipo do or\xe7amento"})]}),Object(v.jsxs)(m.default,{children:[Object(v.jsx)(g.default,{style:st.result,children:c.nomeVendedor}),Object(v.jsx)(g.default,{style:st.description,children:"Vendedor"})]}),Object(v.jsxs)(m.default,{children:[Object(v.jsxs)(g.default,{style:st.result,children:["Total R$"," ",(c.totalBruto-s).toFixed(2).replace(".",",")]}),Object(v.jsxs)(g.default,{style:st.description,children:["Pagamento",Object(v.jsxs)(g.default,{style:{fontWeight:"bold"},children:[" ","em ",c.pagamentos[0].forma]})]})]}),Object(v.jsx)(ot,{onComplete:function(){var e;He(null==(e=u.user)?void 0:e.uid,u.urlBackend).then((function(e){(function(e,t,n,r,i){return Ye.apply(this,arguments)})(a,o,s,null==e?void 0:e.token,u.urlBackend).then((function(){var e={id:O.length.toString(),title:"Desconto no or\xe7amento "+a,date:x+"/"+S+"/"+w,description:"R$ "+(c.totalBruto-s),type:Te.DESCONTO_ORCAMENTO};O.push(e),u.addLog(O),C("Sucesso","Efetuado desconto para o or\xe7amento: "+a)})).catch((function(e){Be.default.isAxiosError(e)?C("Erro","Servidor indispon\xedvel"):C("Erro",e.response.data.error)}))})).catch((function(e){Be.default.isAxiosError(e)?C("Erro","Servidor indispon\xedvel"):C("Erro",e.response.data.error)}))},title:"EFETUAR DESCONTO",underlayTitle:"LIBERAR"})]}),Object(v.jsx)(D,{visible:j.visible,title:j.title,content:j.content,dismiss:function(){n.navigate("Discount",{_branch:o,_budget:a}),h(d)}}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1,backgroundColor:"#212A4D"})]}):Object(v.jsx)(m.default,{style:st.container,children:Object(v.jsx)(D,{visible:j.visible,title:j.title,content:j.content,dismiss:function(){n.navigate("Home"),h(d)}})})}var st=i.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"#F0F2F7"},header:{flexDirection:"row",alignItems:"center"},headerText:{fontSize:16,color:"white"},topField:{flex:2,backgroundColor:"#1F2D5A"},client:{fontSize:28,fontWeight:"bold",color:"white",paddingHorizontal:"5%",paddingTop:52},budget:{fontSize:16,fontWeight:"bold",color:"white",paddingHorizontal:"5%",paddingTop:64},bottomField:{flex:4,flexDirection:"column",marginHorizontal:"5%",justifyContent:"space-around"},result:{fontSize:28,fontWeight:"bold",color:"#454545"},description:{fontSize:16,color:"#454545"}});function lt(){var e=Object(N.default)();return Object(v.jsxs)(e.Navigator,{screenOptions:{headerShown:!1},children:[Object(v.jsx)(e.Screen,{name:"Home",component:Fe}),Object(v.jsx)(e.Screen,{name:"Discount",component:nt}),Object(v.jsx)(e.Screen,{name:"DiscountConfirmation",component:ct})]})}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){return Object(v.jsx)(U.default,dt(dt({},e),{},{textContentType:"emailAddress",keyboardType:"email-address",autoCapitalize:"none",maxFontSizeMultiplier:14,placeholder:"E-mail",placeholderTextColor:"#1F537E",style:V.input}))}function bt(e){var t=e.navigation,n=Object(f.useContext)(A),i=Object(f.useState)(""),o=l()(i,2),a=o[0],c=o[1],s=Object(f.useState)(!1),u=l()(s,2),d=u[0],b=u[1],p=Object(f.useState)(""),j=l()(p,2),h=j[0],O=j[1],g=Object(f.useState)(""),y=l()(g,2),x=y[0],S=y[1],C=function(e,t){O(e),S(t),b(!0)};return Object(v.jsxs)(m.default,{style:pt.container,children:[Object(v.jsx)(m.default,{style:{marginHorizontal:"10%"},children:Object(v.jsxs)(m.default,{children:[Object(v.jsx)(ft,{value:a,onChangeText:c}),Object(v.jsx)(w,{title:"ENVIAR",onPress:function(){C("Recupera\xe7\xe3o de senha","Em alguns instantes uma mensagem de e-mail chegar\xe1 em sua caixa de entrada com as instru\xe7\xf5es para redefini\xe7\xe3o da sua senha.")}})]})}),Object(v.jsx)(D,{title:h,content:x,visible:d,dismiss:function(){a?(n.recoverPassword(a),t&&t.navigate("SignIn")):C("Dado mandat\xf3rio","Por favor, forne\xe7a o seu e-mail para recuperar sua senha."),b(!1)}}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1,backgroundColor:"silver"})]})}var pt=i.default.create({container:{flex:1,justifyContent:"center",backgroundColor:"#F0F2F7"},title:{fontSize:18,fontWeight:"bold",color:"#454545"}});function jt(e){var t=e.navigation,i=Object(f.useState)(""),o=l()(i,2),a=o[0],c=o[1],s=Object(f.useState)(""),u=l()(s,2),d=u[0],b=u[1],p=Object(f.useContext)(A);return Object(v.jsxs)(m.default,{style:ht.container,children:[Object(v.jsxs)(m.default,{style:{marginHorizontal:"10%"},children:[Object(v.jsxs)(m.default,{style:{marginBottom:32},children:[Object(v.jsx)(R.default,{source:n(519),style:{width:64,height:64}}),Object(v.jsx)(g.default,{style:ht.title,children:"Ol\xe1,"}),Object(v.jsx)(g.default,{style:ht.title,children:"seja bem-vindo(a)."})]}),Object(v.jsxs)(m.default,{style:{marginBottom:40},children:[Object(v.jsx)(ft,{value:a,onChangeText:c}),Object(v.jsx)($,{value:d,onChangeText:b}),Object(v.jsx)(w,{onPress:function(){p.signIn(a,d)},title:"ENTRAR"})]}),Object(v.jsx)(Q,{testID:"link-cadastrar",onPress:function(){t&&t.navigate("SignUp")},title:"Cadastre-se"}),Object(v.jsx)(Q,{testID:"link-recuperar-senha",onPress:function(){t&&t.navigate("PasswordRecovery")},title:"Esqueceu sua senha?"})]}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1,backgroundColor:"silver"})]})}var ht=i.default.create({container:{flex:1,backgroundColor:"#F0F2F7",justifyContent:"center"},title:{fontSize:28,fontWeight:"bold",width:300,color:"#1F537E"}});function Ot(e){var t=e.navigation,n=Object(f.useState)(""),i=l()(n,2),o=i[0],a=i[1],c=Object(f.useState)(""),s=l()(c,2),u=s[0],b=s[1],p=Object(f.useState)(""),j=l()(p,2),h=j[0],O=j[1],g=Object(f.useState)(!1),y=l()(g,2),x=y[0],S=y[1],C=Object(f.useContext)(A),P=Object(f.useState)(""),E=l()(P,2),I=E[0],T=E[1],k=function(){var e=d()((function*(){var e=yield G.launchImageLibraryAsync({mediaTypes:K.MediaTypeOptions.Images,allowsEditing:!0,aspect:[1,1],quality:.1});e.canceled||T(e.assets[0].uri)}));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(m.default,{style:gt.container,children:[Object(v.jsx)(m.default,{style:{marginHorizontal:"10%"},children:Object(v.jsxs)(m.default,{children:[Object(v.jsx)(q,{source:I,onPress:k}),Object(v.jsx)(W,{value:o,onChangeText:a,maxLength:20}),Object(v.jsx)(ft,{value:u,onChangeText:b}),Object(v.jsx)($,{value:h,onChangeText:O}),Object(v.jsx)(w,{testID:"continuar",onPress:function(){u&&h&&o&&I?S(!0):alert("Por favor, preencher todos os campos")},title:"CONTINUAR"})]})}),Object(v.jsx)(D,{title:"Verifica\xe7\xe3o de e-mail",content:"Aguarde. Um e-mail de verifica\xe7\xe3o foi enviado para sua caixa de entrada. Ap\xf3s a verifica\xe7\xe3o, tente efetuar acesso.",visible:x,dismiss:function(){S(!1),C.signUp(u,h,o,I),t&&t.navigate("SignIn")}}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1,backgroundColor:"silver"})]})}var gt=i.default.create({container:{flex:1,justifyContent:"center",backgroundColor:"#F0F2F7"},title:{fontSize:18,fontWeight:"bold",color:"#454545"}});function mt(){var e=Object(N.default)();return Object(v.jsxs)(e.Navigator,{children:[Object(v.jsx)(e.Screen,{name:"SignIn",component:jt,options:{title:"",headerShown:!1}}),Object(v.jsx)(e.Screen,{name:"SignUp",component:Ot,options:{title:"Seus dados",headerTransparent:!0}}),Object(v.jsx)(e.Screen,{name:"PasswordRecovery",component:bt,options:{title:"Recupera\xe7\xe3o de senha",headerTransparent:!0}})]})}function yt(){var e=Object(f.useContext)(A);return e.loading?Object(v.jsx)(o.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:Object(v.jsx)(z.default,{size:128,color:"white"})}):e.user&&e.user.verified?Object(v.jsx)(lt,{}):Object(v.jsx)(mt,{})}var vt=n(539),xt=n(343);function St(){return Object(v.jsx)(o.default,{style:wt.container,children:Object(v.jsx)(vt.default,{children:Object(v.jsxs)(k,{children:[Object(v.jsx)(yt,{}),Object(v.jsx)(r.StatusBar,{style:"light",translucent:!1})]})})})}var wt=i.default.create({container:{flex:1,backgroundColor:"#212A4D"}});"web"===a.default.OS&&xt.register()},368:function(e,t,n){e.exports=n(369)},508:function(e,t,n){e.exports=n.p+"static/media/no-photo.263b9da4.png"},519:function(e,t,n){e.exports=n.p+"static/media/adaptive-icon.9c43d51e.png"},60:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"fireApp",(function(){return s})),n.d(t,"firebaseAuth",(function(){return l})),n.d(t,"firestore",(function(){return u})),n.d(t,"realtime",(function(){return d})),n.d(t,"storage",(function(){return f}));var r=n(162),i=(n(468),n(526),n(527),n(524),n(362)),o=n(311),a=n(358),c={apiKey:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).API_KEY||"AIzaSyDdz-aiPbpXCJYZjxFqcdKKYcrvFjg7UWU",authDomain:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).AUTH_DOMAIN||"zenithar-mobile.firebaseapp.com",projectId:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).PROJECT_ID||"zenithar-mobile",storageBucket:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).STORAGE_BUCKET||"zenithar-mobile.appspot.com",messagingSenderId:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).MESSAGING_SENDER_ID||"737927774345",appId:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).APP_ID||"1:737927774345:web:a0b91ca1d93b20a4638658",measurementId:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).MEASUREMENT_ID||"G-ZH5P7L55GP",databaseURL:e&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/zenithar-mobile",APP_MANIFEST:{name:"Zenithar",slug:"Zenithar",version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"automatic",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#1F2D5A"},updates:{fallbackToCacheTimeout:0},web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"]},CI:"true"}).DATABASE_URL||"https://zenithar-mobile-default-rtdb.firebaseio.com"},s=r.default.initializeApp(c);Object(i.initializeAuth)(s,{persistence:Object(o.getReactNativePersistence)(a.default)});var l=s.auth(),u=s.firestore(),d=s.database(),f=s.storage();t.default=s}.call(this,n(38))}},[[368,1,2]]]);
//# sourceMappingURL=app.5b7944d6.chunk.js.map