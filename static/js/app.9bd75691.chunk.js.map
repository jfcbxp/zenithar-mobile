{"version":3,"sources":["src/services/api.ts","assets/no-user.png","src/services/token-jwt.service.ts","src/serviceWorkerRegistration.js","src/components/inputs/input-styles.ts","src/components/inputs/fullname-input.tsx","src/components/inputs/password-input.tsx","src/components/portrait/portrait.tsx","src/components/buttons/command-link.tsx","src/components/modals/user-settings.tsx","src/components/headers/header.tsx","src/components/buttons/navigation-button.tsx","src/components/dividers/divider.tsx","src/components/containers/home-container.tsx","src/components/pickers/picker.tsx","src/components/modals/discount-styles.ts","src/components/inputs/masked-input.tsx","src/components/modals/discount.tsx","src/models/user.logs.model.ts","src/components/lists/logs-item.tsx","src/components/lists/logs.tsx","src/pages/Home/index.tsx","src/components/modals/apply-discount.tsx","src/services/budget.service.ts","src/components/dropdowns/dropdown.tsx","src/components/lists/discount/items-item.tsx","src/components/lists/discount/payment-method-item.tsx","src/pages/Discount/index.tsx","src/components/buttons/swipe-button.tsx","src/pages/Discount/Confirmation/index.tsx","src/routes/app.routes.tsx","src/components/inputs/email-input.tsx","src/pages/PasswordRecovery/index.tsx","src/pages/SignIn/index.tsx","src/pages/SignUp/index.tsx","src/routes/auth.routes.tsx","src/routes/index.tsx","App.tsx","assets/no-photo.png","assets/adaptive-icon.png","src/contexts/auth.provider.tsx","src/components/buttons/button.tsx","src/components/modals/dialog.tsx","src/services/firebase.service.ts"],"names":["API","baseURL","token","axios","create","withCredentials","headers","Authorization","timeout","module","exports","useTokenService","authContext","useContext","AuthContext","getToken","times","secret","urlBackend","Buffer","from","toString","authToken","uuid","user","uid","api","post","data","getUrl","register","config","isLocalhost","Boolean","window","location","hostname","match","process","navigator","URL","href","origin","addEventListener","swUrl","fetch","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","message","InputStyles","StyleSheet","input","width","height","backgroundColor","color","fontSize","fontWeight","borderRadius","paddingHorizontal","marginBottom","FullNameInput","properties","TextInput","placeholder","placeholderTextColor","style","styles","PasswordInput","textContentType","secureTextEntry","autoCapitalize","Portrait","useState","disable","setDisable","useEffect","editable","View","container","Image","source","uri","require","image","title","disabled","onPress","alignItems","justifyContent","alignSelf","marginVertical","CommandLink","Pressable","Text","text","letterSpacing","textAlign","UserSettings","FULLNAME","fullName","PORTRAIT","portrait","setFullName","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","setPortrait","changePassword","setChangePassword","setDisabled","setEditable","defaultDialog","content","visible","dialog","setDialog","comparePasswords","current","new_","confirm","length","handleUpdateUser","userUpdate","initials","undefined","pickImage","Alert","Modal","transparent","animationType","field","value","onChangeText","maxLength","onPressIn","onPressOut","dismiss","Header","setVisible","handleSignOut","signOut","header","descriptions","company","department","name","size","marginLeft","flexDirection","marginHorizontal","marginTop","borderColor","borderWidth","marginRight","NavigationButton","area","icon","flex","paddingVertical","textAlignVertical","Divider","divider","borderBottomWidth","HomeContainer","children","padding","borderTopLeftRadius","borderTopRightRadius","Picker","picker","textStyle","font","labelStyle","DiscountStyles","position","zIndex","MaskedInput","includeRawValueInChangeText","DiscountModal","navigation","useNavigation","budget","setBudget","branch","setBranch","branches","setBranches","translation","useRef","Animated","Value","open","setOpen","array","Object","entries","forEach","label","id","Keyboard","onShow","timing","toValue","duration","useNativeDriver","start","setValue","absoluteFillObject","transform","translateY","toUpperCase","type","options","mask","items","navigate","_budget","_branch","LogTypeEnum","LogsItem","testID","LIBERACAO_ORCAMENTO","sub","description","date","Logs","FlatList","renderItem","item","Home","logs","containerTitle","reverse","containerChild","discount","setDiscount","ScrollView","horizontal","showsHorizontalScrollIndicator","menu","StatusBar","translucent","ApplyDiscountModal","percentage","setPercentage","newTotal","setNewTotal","discountValue","setDiscountValue","initialValues","reset","maskedText","rawText","total","discountLimit","newValue","toFixed","replace","changeValueByPercentage","parseFloat","onFocus","precision","separator","delimiter","unit","suffixUnit","discountPercentage","changePercentageByValue","_budgetObject","budgetObject","_discountValue","useBudgetService","tokenService","loadBudget","url","releaseDiscount","patch","Dropdown","borderTopStartRadius","borderTopEndRadius","subText","ItemsItem","noPhoto","noPhotoText","descricaoProduto","charAt","produto","armazem","tipoEntrega","quantidade","preco","PaymentMethodItem","valor","installments","parcelas","installment","forma","Discount","route","params","budgetData","setBudgetData","service","result","isAxiosError","topField","headerText","paddingBottom","subTitle","vendedor","nomeVendedor","cliente","nomeCliente","box","tipoOrcamento","statusOrcamento","desconto","textDecorationLine","totalBruto","totalLiquido","bottomField","itens","pagamentos","loading","ActivityIndicator","paddingTop","SwipeButton","Icon","onComplete","titleStyle","underlayTitle","underlayTitleStyle","underlayStyle","containerStyle","circleBackgroundColor","circleSize","goBackToStart","iconContainerStyle","paddingLeft","DiscountConfirmation","Date","day","getDate","month","getMonth","year","getFullYear","contentContainerStyle","scrollEnabled","client","newLog","DESCONTO_ORCAMENTO","addLog","AppRoutes","Stack","createStackNavigator","Navigator","screenOptions","headerShown","Screen","component","EmailInput","keyboardType","maxFontSizeMultiplier","PasswordRecovery","email","setEmail","dialogVisible","setDialogVisible","dialogTitle","setDialogTitle","dialogContent","setDialogContent","recoverPassword","SignIn","password","setPassword","signIn","SignUp","check","signUp","AuthRoutes","headerTransparent","Routes","SafeAreaView","verified","App","NavigationContainer","Platform","OS","serviceWorkerRegistration","defaultState","Promise","resolve","createContext","AuthProvider","setUser","setCompany","setDepartment","setUrlBackend","setLoading","expireAt","setExpireAt","firebaseAuth","onAuthStateChanged","currentUser","emailVerified","_getUserRegister","_email","_password","_fullName","_portrait","createUserWithEmailAndPassword","validate","languageCode","sendEmailVerification","_portraitURL","_uploadImage","_user","_userRegister","code","signInWithEmailAndPassword","sendPasswordResetEmail","_currentPassword","_newPassword","realtime","ref","child","update","_userUpdatePassword","push","shift","ImagePicker","mediaTypes","Images","allowsEditing","aspect","quality","canceled","assets","blob","_reauthenticate","credentials","firebase","auth","EmailAuthProvider","credential","reauthenticateWithCredential","updatePassword","_alertPasswordChange","_","_uid","filename","urlImage","storage","put","snapshot","getDownloadURL","set","once","val","_storeDepartment","_licenseCheck","_department","currentDay","currentMonth","currentYear","expireAtDay","parseInt","expireAtMonth","contextValue","useMemo","Provider","Button","opacity","setOpacity","button","elevation","Dialog","DialogStyles","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","fireApp","initializeApp","initializeAuth","persistence","getReactNativePersistence","AsyncStorage","firestore","database"],"mappings":"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","file":"static/js/app.9bd75691.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport function API(baseURL: string, token?: string) {\n  if (token) {\n    return axios.create({\n      baseURL: `${baseURL}/zenithar/`,\n      withCredentials: true,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"ngrok-skip-browser-warning\": \"24022023\",\n        Authorization: `Bearer ${token}`,\n      },\n      timeout: 20000,\n    });\n  } else {\n    return axios.create({\n      baseURL: `${baseURL}/zenithar/`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"ngrok-skip-browser-warning\": \"24022023\",\n      },\n      timeout: 20000,\n    });\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/no-user.4a33880e.png\";","import { AuthToken } from \"../models/from-api/authtoken.model\";\nimport { API } from \"./api\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../contexts/auth.provider\";\nimport { AxiosResponse } from \"axios\";\n\nexport const useTokenService = () => {\n  const authContext = useContext(AuthContext);\n\n  const getToken = async (): Promise<AuthToken> => {\n    let times = 4;\n    let secret = authContext.urlBackend\n      ? Buffer.from(authContext.urlBackend).toString(\"base64\")\n      : \"\";\n\n    while (times--) secret = Buffer.from(secret).toString(\"base64\");\n\n    const authToken: AuthToken = {\n      uuid: authContext.user?.uid!,\n      secret: secret,\n    };\n\n    const api = API(authContext.urlBackend!);\n    const url: string = `auth/token`;\n    const response: AxiosResponse<AuthToken> = await api.post<AuthToken>(\n      url,\n      authToken\n    );\n    return response.data;\n  };\n\n  const getUrl = () => {\n    return authContext.urlBackend!;\n  };\n\n  return {\n    getToken,\n    getUrl,\n  };\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\n\n\nexport function register(config) {\nconst isLocalhost = Boolean(\n\n  (window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    ))\n);\n  const isEnvProduction = process.env.NODE_ENV === \"production\";\n  if (isEnvProduction && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}","import { StyleSheet } from \"react-native\";\n\nexport const InputStyles = StyleSheet.create({\n  input: {\n    width: \"100%\",\n    height: 40,\n    backgroundColor: \"white\",\n    color: \"#123262\",\n    fontSize: 16,\n    fontWeight: \"bold\",\n    borderRadius: 18,\n    paddingHorizontal: 16,\n    marginBottom: 16,\n  },\n});\n","import { TextInput, TextInputProps } from \"react-native\";\nimport { InputStyles as styles } from \"./input-styles\";\n\nexport function FullNameInput(properties: TextInputProps) {\n  return (\n    <TextInput\n      {...properties}\n      placeholder=\"Nome completo\"\n      placeholderTextColor=\"#1F537E\"\n      style={styles.input}\n    />\n  );\n}\n","import { TextInput, TextInputProps } from \"react-native\";\nimport { InputStyles as styles } from \"./input-styles\";\n\ninterface Properties extends TextInputProps {\n  placeholder?: string;\n}\nexport function PasswordInput(properties: Properties) {\n  return (\n    <TextInput\n      {...properties}\n      textContentType=\"password\"\n      secureTextEntry\n      autoCapitalize=\"none\"\n      placeholder={properties.placeholder ? properties.placeholder : \"Senha\"}\n      placeholderTextColor=\"#1F537E\"\n      style={styles.input}\n    />\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport { StyleSheet, View, Image, GestureResponderEvent } from \"react-native\";\nimport { Button } from \"../buttons/button\";\n\ninterface Properties {\n  editable: boolean;\n  source?: string;\n  onPress: (event: GestureResponderEvent) => void;\n}\n\nexport function Portrait(properties: Properties) {\n  const [disable, setDisable] = useState(false);\n\n  useEffect(() => {\n    setDisable(!properties.editable);\n  }, [properties.editable]);\n\n  return (\n    <View style={styles.container}>\n      <Image\n        source={\n          properties.source\n            ? { uri: properties.source }\n            : require(\"../../../assets/no-user.png\")\n        }\n        style={styles.image}\n      />\n      <Button\n        title=\"SELECIONAR\"\n        disabled={disable}\n        onPress={properties.onPress}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: 172,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    marginVertical: 16,\n  },\n  image: {\n    width: 128,\n    height: 128,\n    borderRadius: 90,\n    marginBottom: 2,\n  },\n});\n","import { StyleSheet, Text, Pressable, PressableProps } from \"react-native\";\n\ninterface Properties extends PressableProps {\n  title: string;\n}\n\nexport function CommandLink(properties: Properties) {\n  return (\n    <Pressable {...properties}>\n      <Text style={styles.text}>{properties.title}</Text>\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  text: {\n    width: \"100%\",\n    height: 40,\n    fontSize: 16,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"#1F537E\",\n    textAlign: \"center\",\n    marginBottom: 40,\n  },\n});\n","import { useContext, useState } from \"react\";\nimport { GestureResponderEvent, Modal, ModalProps, View } from \"react-native\";\nimport { Dialog, DialogStyles as styles } from \"./dialog\";\nimport { Button } from \"../buttons/button\";\nimport { FullNameInput } from \"../inputs/fullname-input\";\nimport { PasswordInput } from \"../inputs/password-input\";\nimport { Portrait } from \"../portrait/portrait\";\nimport { CommandLink } from \"../buttons/command-link\";\nimport { AuthContext } from \"../../contexts/auth.provider\";\n\ninterface Properties extends ModalProps {\n  visible: boolean | undefined;\n  userUpdate(\n    _fullName: string,\n    _portrait?: string | undefined,\n    _currentPassword?: string | undefined,\n    _newPassword?: string | undefined\n  ): Promise<void>;\n  fullName?: string;\n  portrait?: string;\n  dismiss: ((event: GestureResponderEvent) => void) | undefined;\n}\n\nexport function UserSettings(properties: Properties) {\n  const authContext = useContext(AuthContext);\n  const FULLNAME = properties.fullName;\n  const PORTRAIT = properties.portrait;\n  const [fullName, setFullName] = useState<string | undefined>(FULLNAME);\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [portrait, setPortrait] = useState<string | undefined>(PORTRAIT);\n  const [changePassword, setChangePassword] = useState<boolean | undefined>();\n  const [disabled, setDisabled] = useState(false);\n  const [editable, setEditable] = useState(true);\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n\n  const comparePasswords = (current: string, new_: string, confirm: string) => {\n    if (\n      current.length > 5 &&\n      new_.length > 5 &&\n      confirm.length > 5 &&\n      new_ &&\n      confirm &&\n      new_ == confirm\n    ) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  };\n\n  const handleUpdateUser = async () => {\n    await properties.userUpdate(\n      fullName!,\n      portrait,\n      currentPassword,\n      newPassword\n    );\n    initials();\n  };\n\n  const handleChangePassword = () => {\n    setFullName(FULLNAME);\n    setDisabled(true);\n    setEditable(false);\n    setChangePassword(true);\n  };\n\n  const initials = () => {\n    setChangePassword(undefined);\n    setDisabled(false);\n    setEditable(true);\n    setCurrentPassword(\"\");\n    setNewPassword(\"\");\n    setConfirmPassword(\"\");\n    setFullName(FULLNAME);\n    setPortrait(PORTRAIT);\n  };\n\n  const pickImage = async () => {\n    const uri = await authContext.pickImage();\n    if (uri) {\n      setPortrait(uri);\n      setDisabled(portrait == PORTRAIT);\n    } else {\n      Alert(\n        \"Erro\",\n        \"O retrato deve ser uma imagem de formato PNG/JPEG e não deve exceder o tamanho de 2MBs\"\n      );\n      setPortrait(PORTRAIT);\n    }\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  return (\n    <Modal\n      {...properties}\n      visible={properties.visible}\n      transparent={true}\n      animationType=\"fade\"\n    >\n      <View style={styles.container}>\n        <View style={styles.field}>\n          <Portrait source={portrait} editable={editable} onPress={pickImage} />\n          <FullNameInput\n            value={fullName}\n            onChangeText={(text) => {\n              setFullName(text);\n              setDisabled(text != FULLNAME && text ? false : true);\n            }}\n            maxLength={20}\n            editable={editable}\n          />\n          {!changePassword && (\n            <CommandLink onPress={handleChangePassword} title=\"Alterar senha\" />\n          )}\n          {changePassword && (\n            <View>\n              <PasswordInput\n                value={currentPassword}\n                onChangeText={(text) => {\n                  setCurrentPassword(text);\n                  comparePasswords(text, newPassword, confirmPassword);\n                }}\n                placeholder=\"Senha atual\"\n              />\n              <PasswordInput\n                value={newPassword}\n                onChangeText={(text) => {\n                  setNewPassword(text);\n                  comparePasswords(currentPassword, text, confirmPassword);\n                }}\n                placeholder=\"Nova senha\"\n              />\n              <PasswordInput\n                value={confirmPassword}\n                onChangeText={(text) => {\n                  setConfirmPassword(text);\n                  comparePasswords(currentPassword, newPassword, text);\n                }}\n                placeholder=\"Confirmar nova senha\"\n              />\n            </View>\n          )}\n          <Button\n            onPressIn={initials}\n            onPressOut={properties.dismiss}\n            title=\"CANCELAR\"\n          />\n          <Button\n            disabled={disabled}\n            onPressIn={handleUpdateUser}\n            onPressOut={properties.dismiss}\n            title=\"CONFIRMAR\"\n          />\n        </View>\n        <Dialog\n          title={dialog.title}\n          content={dialog.content}\n          visible={dialog.visible}\n          dismiss={() => {\n            setDialog(defaultDialog);\n          }}\n        />\n      </View>\n    </Modal>\n  );\n}\n","import { useState } from \"react\";\nimport { StyleSheet, View, Text, Image, Pressable } from \"react-native\";\nimport { MaterialIcons as Icon } from \"@expo/vector-icons\";\nimport { UserSettings } from \"../modals/user-settings\";\n\ninterface Properties {\n  signOut: Function;\n  userUpdate(\n    _fullName: string,\n    _portrait?: string | undefined,\n    _currentPassword?: string | undefined,\n    _newPassword?: string | undefined\n  ): Promise<void>;\n  fullName?: string;\n  company?: string;\n  department?: string;\n  portrait?: string;\n}\n\nexport function Header(properties: Properties) {\n  const [visible, setVisible] = useState(false);\n\n  const handleSignOut = async () => {\n    properties.signOut();\n  };\n\n  const onPress = () => {\n    setVisible(true);\n  };\n\n  return (\n    <View style={styles.header}>\n      <Pressable onPress={onPress}>\n        <View style={styles.container}>\n          <Image\n            source={\n              properties.portrait\n                ? { uri: properties.portrait }\n                : require(\"../../../assets/no-user.png\")\n            }\n            style={styles.image}\n          />\n          <View>\n            <Text style={styles.fullName}>{properties.fullName}</Text>\n            <Text style={styles.descriptions}>{properties.company}</Text>\n            <Text style={styles.descriptions}>{properties.department}</Text>\n          </View>\n          <Icon\n            name=\"logout\"\n            size={32}\n            color=\"white\"\n            onPress={handleSignOut}\n            style={{ marginLeft: \"auto\" }}\n          />\n        </View>\n      </Pressable>\n      {visible && (\n        <UserSettings\n          fullName={properties.fullName}\n          portrait={properties.portrait}\n          userUpdate={properties.userUpdate}\n          visible={visible}\n          dismiss={() => {\n            setVisible(false);\n          }}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  header: {\n    backgroundColor: \"#1F2D5A\",\n  },\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginHorizontal: \"5%\",\n    marginTop: \"2.5%\",\n    marginBottom: \"2.5%\",\n  },\n  image: {\n    width: 52,\n    height: 52,\n    borderRadius: 90,\n    borderColor: \"white\",\n    borderWidth: 1,\n    marginRight: 13,\n  },\n  fullName: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n  descriptions: {\n    fontSize: 13,\n    color: \"white\",\n  },\n});\n","import {\n  StyleSheet,\n  Pressable,\n  PressableProps,\n  Text,\n  View,\n} from \"react-native\";\nimport { MaterialIcons as Icon } from \"@expo/vector-icons\";\n\ninterface Properties extends PressableProps {\n  icon: keyof typeof Icon.glyphMap;\n  title: string;\n}\n\nexport function NavigationButton(properties: Properties) {\n  return (\n    <Pressable {...properties} style={styles.container}>\n      <View style={styles.area}>\n        <Icon\n          name={properties.icon}\n          size={42}\n          color=\"#123262\"\n          style={{ alignSelf: \"center\" }}\n        />\n        <Text style={styles.text}>{properties.title}</Text>\n      </View>\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    width: 100,\n    height: 100,\n    borderRadius: 18,\n    borderWidth: 1,\n    borderColor: \"#8894ac\",\n    backgroundColor: \"white\",\n    alignItems: \"center\",\n  },\n  area: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    paddingVertical: 14,\n  },\n  text: {\n    fontSize: 14,\n    fontWeight: \"bold\",\n    color: \"#123262\",\n    textAlign: \"center\",\n    textAlignVertical: \"center\",\n  },\n});\n","import { StyleSheet, View } from \"react-native\";\n\nexport function Divider() {\n  return <View style={styles.divider} />;\n}\n\nconst styles = StyleSheet.create({\n  divider: {\n    borderBottomWidth: 1,\n    borderColor: \"silver\",\n  },\n});\n","import { StyleSheet, Text, View } from \"react-native\";\nimport { Divider } from \"../dividers/divider\";\n\ninterface Properties {\n  title: string;\n  children?: React.ReactNode;\n}\n\nexport function HomeContainer(properties: Properties) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>{properties.title}</Text>\n      <Divider />\n      {properties.children}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    width: \"100%\",\n    padding: \"2.5%\",\n    borderTopLeftRadius: 18,\n    borderTopRightRadius: 18,\n    borderWidth: 1,\n    borderColor: \"#8894ac\",\n    backgroundColor: \"white\",\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: \"#1F537E\",\n    marginBottom: \"2.5%\",\n  },\n});\n","import { StyleSheet } from \"react-native\";\nimport DropDownPicker, {\n  DropDownPickerProps,\n} from \"react-native-dropdown-picker\";\n\nexport function Picker(properties: DropDownPickerProps<any>) {\n  return (\n    <DropDownPicker\n      {...properties}\n      style={styles.picker}\n      textStyle={styles.font}\n      labelStyle={styles.font}\n    />\n  );\n}\n\nconst styles = StyleSheet.create({\n  picker: {\n    backgroundColor: \"white\",\n    marginBottom: 24,\n    height: 40,\n    paddingHorizontal: 16,\n    borderWidth: 0,\n    borderRadius: 18,\n  },\n  font: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#123262\",\n  },\n});\n","import { StyleSheet } from \"react-native\";\n\nexport const DiscountStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"flex-end\",\n    backgroundColor: `rgba(0, 0, 0, 0.8)`,\n  },\n  field: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"50%\",\n    alignItems: \"center\",\n    paddingHorizontal: \"5%\",\n    backgroundColor: \"#F0F2F7\",\n    borderTopLeftRadius: 18,\n    borderTopRightRadius: 18,\n    zIndex: 99,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"#454545\",\n    marginVertical: 32,\n  },\n});\n","import { TextInputMask, TextInputMaskProps } from \"react-native-masked-text\";\nimport { InputStyles as styles } from \"./input-styles\";\n\ninterface Properties extends TextInputMaskProps {}\n\nexport function MaskedInput(properties: Properties) {\n  return (\n    <TextInputMask\n      {...properties}\n      includeRawValueInChangeText={true}\n      placeholderTextColor=\"#123262\"\n      style={styles.input}\n    />\n  );\n}\n","import { useState, useEffect, useRef } from \"react\";\nimport {\n  StyleSheet,\n  Modal,\n  ModalProps,\n  View,\n  Text,\n  GestureResponderEvent,\n  Pressable,\n  Keyboard,\n  Animated,\n} from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NavigationParams } from \"../../types/navigation.params\";\nimport { Button } from \"../buttons/button\";\nimport { Picker } from \"../pickers/picker\";\nimport { ItemType } from \"react-native-dropdown-picker\";\nimport { UserBranch } from \"../../models/user.branch.model\";\nimport { DiscountStyles as styles } from \"./discount-styles\";\nimport { MaskedInput } from \"../inputs/masked-input\";\n\ninterface Properties extends ModalProps {\n  visible?: boolean;\n  dismiss?: (event: GestureResponderEvent) => void | null;\n  branches?: UserBranch[];\n}\n\nexport function DiscountModal(properties: Properties) {\n  const navigation = useNavigation<NavigationParams>();\n  const [budget, setBudget] = useState(\"\");\n  const [branch, setBranch] = useState<UserBranch>();\n  const [branches, setBranches] = useState<ItemType<UserBranch>[]>();\n  const translation = useRef(new Animated.Value(400)).current;\n  const [open, setOpen] = useState(false);\n  const [disabled, setDisabled] = useState(false);\n\n  useEffect(() => {\n    let data = properties.branches;\n    if (data) {\n      let array: ItemType<UserBranch>[] = [];\n      Object.entries(data).forEach(([key, value]) => {\n        array = [\n          ...array,\n          {\n            value: value,\n            label: `${value.id} - ${value.name}`,\n          },\n        ];\n      });\n      setBranches(array);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (budget.length == 6) {\n      Keyboard.dismiss();\n    }\n    if (budget.length == 6 && branch) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  }, [budget, branch]);\n\n  return (\n    <Modal\n      transparent={true}\n      visible={properties.visible}\n      animationType=\"fade\"\n      onShow={() => {\n        Animated.timing(translation, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: false,\n        }).start();\n      }}\n    >\n      <View style={styles.container}>\n        <Pressable\n          onPressIn={() => {\n            translation.setValue(400);\n            setBranch(undefined);\n            setBudget(\"\");\n            setOpen(false);\n          }}\n          onPressOut={properties.dismiss}\n          style={StyleSheet.absoluteFillObject}\n        />\n        <Animated.View\n          style={[{ transform: [{ translateY: translation }] }, styles.field]}\n        >\n          <Text style={styles.title}>Desconto</Text>\n          <MaskedInput\n            value={budget}\n            onChangeText={(text) => {\n              setBudget(text.toUpperCase())\n            }}\n            autoCapitalize=\"characters\"\n            placeholder=\"Número do Orçamento\"\n            maxLength={6}\n            type=\"custom\"\n            options={{\n              mask: \"SSSSSS\",\n            }}\n          />\n          <Picker\n            items={branches!}\n            value={branch}\n            setValue={setBranch}\n            open={open}\n            setOpen={setOpen}\n            placeholder=\"Filiais\"\n          />\n          <Button\n            title=\"CONTINUAR\"\n            onPressIn={() => {\n              navigation &&\n                navigation.navigate(\"Discount\", {\n                  _budget: budget.toUpperCase(),\n                  _branch: branch!.id,\n                });\n              translation.setValue(400);\n              setOpen(false);\n              setBranch(undefined);\n              setBudget(\"\");\n            }}\n            onPressOut={properties.dismiss}\n            disabled={disabled}\n          />\n        </Animated.View>\n      </View>\n    </Modal>\n  );\n}\n","export interface UserLogs {\n  date: string;\n  title: string;\n  description: string;\n  type: LogTypeEnum;\n}\n\nexport enum LogTypeEnum {\n  DESCONTO_ORCAMENTO = \"DESCONTO_ORCAMENTO\",\n  LIBERACAO_ORCAMENTO = \"LIBERACAO_ORCAMENTO\",\n}\n","import { StyleSheet, View, Text } from \"react-native\";\nimport { Divider } from \"../dividers/divider\";\nimport { MaterialIcons as Icon } from \"@expo/vector-icons\";\nimport { LogTypeEnum, UserLogs } from \"../../models/user.logs.model\";\n\nexport function LogsItem({ data }: { data: UserLogs }) {\n  return (\n    <View>\n      <View style={styles.container}>\n        <View style={{ flexDirection: \"row\" }}>\n          <Icon\n            testID=\"icon\"\n            name={\n              data.type === LogTypeEnum.LIBERACAO_ORCAMENTO\n                ? \"attach-money\"\n                : \"check-box\"\n            }\n            size={28}\n            color=\"#123262\"\n            style={{ alignSelf: \"center\" }}\n          />\n          <View>\n            <Text testID=\"title\" style={styles.text}>\n              {`${data.title}`}\n            </Text>\n            <Text testID=\"description\" style={styles.sub}>\n              {data.description}\n            </Text>\n          </View>\n        </View>\n        <Text testID=\"date\" style={styles.sub}>\n          {data.date}\n        </Text>\n      </View>\n      <Divider />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingVertical: 12,\n  },\n  text: {\n    fontSize: 12,\n    fontWeight: \"bold\",\n    color: \"#123262\",\n  },\n  sub: {\n    fontSize: 10,\n    color: \"#8894ac\",\n  },\n});\n","import { FlatList, ListRenderItem } from \"react-native\";\nimport { UserLogs } from \"../../models/user.logs.model\";\nimport { LogsItem } from \"./logs-item\";\n\ninterface Properties {\n  data?: UserLogs[];\n}\n\nexport function Logs(properties: Properties) {\n  const renderItem: ListRenderItem<UserLogs> = ({ item }) => (\n    <LogsItem data={item} />\n  );\n\n  return <FlatList data={properties.data} renderItem={renderItem} />;\n}\n","import React, { useContext, useState } from \"react\";\nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport { StyleSheet, View, ScrollView } from \"react-native\";\nimport { StackParams } from \"../../types/stack.params\";\nimport { Header } from \"../../components/headers/header\";\nimport { NavigationButton } from \"../../components/buttons/navigation-button\";\nimport { HomeContainer } from \"../../components/containers/home-container\";\nimport { DiscountModal } from \"../../components/modals/discount\";\nimport { Logs } from \"../../components/lists/logs\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { AuthContext } from \"../../contexts/auth.provider\";\nimport { Dialog } from \"../../components/modals/dialog\";\n\ninterface Properties extends StackScreenProps<StackParams, \"Home\"> {}\n\nexport default function Home({ navigation }: Properties) {\n  const authContext = useContext(AuthContext);\n  const data = authContext.user?.logs;\n  const [containerTitle] = useState(\"Histórico\");\n  const [containerChild] = useState<React.ReactNode>(\n    <Logs data={data?.reverse()} />\n  );\n  const [discount, setDiscount] = useState(false);\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n\n  const NavigationButtonOnPress = () => {\n    if (authContext.company) {\n      setDiscount(true);\n    } else {\n      Alert(\"Alerta\", \"Você não possui autorização para utilizar esta opção.\");\n    }\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  return (\n    <View style={styles.container}>\n      <View>\n        <Header\n          userUpdate={authContext.userUpdate}\n          signOut={authContext.signOut}\n          fullName={authContext.user?.fullName}\n          portrait={authContext.user?.portrait}\n          company={authContext.company}\n          department={authContext.department}\n        />\n      </View>\n      <ScrollView\n        horizontal={true}\n        showsHorizontalScrollIndicator={false}\n        style={styles.menu}\n      >\n        <NavigationButton\n          icon=\"attach-money\"\n          title=\"Desconto\"\n          onPress={NavigationButtonOnPress}\n        />\n      </ScrollView>\n      <View style={styles.field}>\n        <HomeContainer title={containerTitle}>{containerChild}</HomeContainer>\n      </View>\n      {discount && (\n        <DiscountModal\n          visible={discount}\n          branches={authContext.user?.branches}\n          dismiss={() => {\n            setDiscount(false);\n          }}\n        />\n      )}\n      <Dialog\n        title={dialog.title}\n        content={dialog.content}\n        visible={dialog.visible}\n        dismiss={() => {\n          setDialog(defaultDialog);\n        }}\n      />\n      <StatusBar style=\"light\" translucent={false} backgroundColor=\"#212A4D\" />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    backgroundColor: \"#F0F2F7\",\n  },\n  menu: {\n    flex: 1,\n    marginVertical: \"5%\",\n    marginHorizontal: \"5%\",\n  },\n  field: {\n    flex: 4,\n    flexDirection: \"column\",\n    marginHorizontal: \"5%\",\n  },\n});\n","import { useState, useRef } from \"react\";\nimport {\n  StyleSheet,\n  Modal,\n  ModalProps,\n  View,\n  Text,\n  GestureResponderEvent,\n  Pressable,\n  Animated,\n} from \"react-native\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { NavigationParams } from \"../../types/navigation.params\";\nimport { MaskedInput } from \"../inputs/masked-input\";\nimport { Button } from \"../buttons/button\";\nimport { DiscountStyles as styles } from \"./discount-styles\";\nimport { Dialog } from \"./dialog\";\nimport { Orcamento } from \"../../models/from-api/orcamento.model\";\n\ninterface Properties extends ModalProps {\n  visible: boolean;\n  dismiss?: (event: GestureResponderEvent) => void | null;\n  total: number;\n  budget: string;\n  branch: string;\n  budgetObject: Orcamento;\n  discountLimit: number;\n}\n\nexport function ApplyDiscountModal(properties: Properties) {\n  const navigation = useNavigation<NavigationParams>();\n  const translation = useRef(new Animated.Value(400)).current;\n  const [percentage, setPercentage] = useState(\"\");\n  const [value, setValue] = useState(\"\");\n  const [newTotal, setNewTotal] = useState(\"\");\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n  const [discountValue, setDiscountValue] = useState(0);\n\n  const changePercentageByValue = (value: number) => {\n    let total = properties.total;\n    let discountPercentage = (value * 100) / total;\n    if (discountPercentage > properties.discountLimit) {\n      Alert(\n        \"Aviso\",\n        `Limite de desconto permitido: ${properties.discountLimit}%`\n      );\n    } else {\n      setPercentage(discountPercentage.toString());\n      total -= value;\n      setNewTotal(total.toFixed(2).replace(\".\", \",\"));\n      setDiscountValue(value);\n    }\n  };\n\n  const changeValueByPercentage = (percentage: number) => {\n    let total = properties.total;\n    if (percentage > properties.discountLimit) {\n      Alert(\n        \"Aviso\",\n        `Limite de desconto permitido: ${properties.discountLimit}%`\n      );\n    } else {\n      let newValue = (total * percentage) / 100;\n      setValue(newValue.toFixed(2));\n      total -= newValue;\n      setNewTotal(total.toFixed(2).replace(\".\", \",\"));\n      setDiscountValue(newValue);\n    }\n  };\n\n  const initialValues = () => {\n    setDialog(defaultDialog);\n    setPercentage(\"\");\n    setValue(\"\");\n    setNewTotal(\"\");\n  };\n\n  const reset = () => {\n    initialValues();\n    translation.setValue(400);\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  return (\n    <Modal\n      transparent={true}\n      visible={properties.visible}\n      animationType=\"fade\"\n      onShow={() => {\n        Animated.timing(translation, {\n          toValue: 1,\n          duration: 500,\n          useNativeDriver: false,\n        }).start();\n      }}\n    >\n      <View style={styles.container}>\n        <Pressable\n          onPressIn={() => reset()}\n          onPressOut={properties.dismiss}\n          style={StyleSheet.absoluteFillObject}\n        />\n        <Animated.View\n          style={[{ transform: [{ translateY: translation }] }, styles.field]}\n        >\n          <Text style={styles.title}>Desconto</Text>\n          <Text\n            style={{\n              fontSize: 24,\n              fontWeight: \"bold\",\n              color: \"red\",\n              marginBottom: 16,\n            }}\n          >\n            {newTotal ? `R$ ${newTotal}` : \"\"}\n          </Text>\n          <MaskedInput\n            value={percentage}\n            onChangeText={(maskedText, rawText) => {\n              setPercentage(rawText!);\n              changeValueByPercentage(parseFloat(rawText!));\n            }}\n            placeholder=\"Desconto %\"\n            onFocus={() => {\n              initialValues();\n            }}\n            type=\"money\"\n            options={{\n              precision: 2,\n              separator: \",\",\n              delimiter: \".\",\n              unit: \"% \",\n              suffixUnit: \"\",\n            }}\n          />\n\n          <MaskedInput\n            value={value}\n            onChangeText={(maskedText, rawText) => {\n              setValue(rawText!);\n              changePercentageByValue(parseFloat(rawText!));\n            }}\n            placeholder=\"Desconto Valor\"\n            onFocus={() => {\n              initialValues();\n            }}\n            type=\"money\"\n            options={{\n              precision: 2,\n              separator: \",\",\n              delimiter: \".\",\n              unit: \"R$ \",\n              suffixUnit: \"\",\n            }}\n          />\n          <Button\n            title=\"CONTINUAR\"\n            onPressIn={() => {\n              navigation &&\n                navigation.navigate(\"DiscountConfirmation\", {\n                  _budget: properties.budget,\n                  _branch: properties.branch,\n                  _budgetObject: properties.budgetObject,\n                  _discountValue: discountValue,\n                });\n              reset();\n            }}\n            onPressOut={properties.dismiss}\n          />\n        </Animated.View>\n        <Dialog\n          visible={dialog.visible}\n          title={dialog.title}\n          content={dialog.content}\n          dismiss={initialValues}\n        />\n      </View>\n    </Modal>\n  );\n}\n","import { AxiosResponse } from \"axios\";\nimport { Orcamento } from \"../models/from-api/orcamento.model\";\nimport { API } from \"./api\";\nimport { useTokenService } from \"./token-jwt.service\";\n\nexport const useBudgetService = () => {\n  const tokenService = useTokenService();\n\n  const loadBudget = async (\n    budget: string,\n    branch: string\n  ): Promise<Orcamento> => {\n    const secret = (await tokenService.getToken())?.token;\n    const api = API(tokenService.getUrl(), secret);\n    const url: string = `orcamento/consultar?numeroOrcamento=${budget}&empresa=${branch}`;\n    const response: AxiosResponse<Orcamento> = await api.get<Orcamento>(url);\n    return response.data;\n  };\n\n  const releaseDiscount = async (\n    budget: string,\n    branch: string,\n    discountValue: number\n  ): Promise<void> => {\n    const secret = (await tokenService.getToken())?.token;\n    const api = API(tokenService.getUrl(), secret);\n    const url: string = `orcamento/efetuarDesconto?numeroOrcamento=${budget}&empresa=${branch}&valorDesconto=${discountValue.toFixed(\n      2\n    )}`;\n    await api.patch<Orcamento>(url);\n  };\n\n  return {\n    loadBudget,\n    releaseDiscount,\n  };\n};\n","import { useState } from \"react\";\nimport {\n  ListRenderItem,\n  Pressable,\n  Text,\n  View,\n  StyleSheet,\n  FlatList\n} from \"react-native\";\nimport { Feather as Icon } from \"@expo/vector-icons\";\n\ninterface Properties<T> {\n  data: T[] | undefined;\n  renderItem: ListRenderItem<T>;\n  title: string;\n}\n\nexport function Dropdown<T extends unknown>(properties: Properties<T>) {\n  const [visible, setVisible] = useState(false);\n\n  const expand = () => {\n    setVisible((current) => !current);\n  };\n\n  return (\n    <View>\n      <Pressable style={styles.container} onPress={expand}>\n        <View style={styles.area}>\n          <Text style={styles.text}>{properties.title}</Text>\n          <Icon\n            testID=\"icon\"\n            name={visible ? \"chevron-up\" : \"chevron-down\"}\n            size={32}\n          />\n        </View>\n      </Pressable>\n      {visible && (\n        <View style={styles.children}>\n          <FlatList data={properties.data} renderItem={properties.renderItem} />\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: \"1.25%\",\n    paddingHorizontal: \"5%\",\n    paddingVertical: \"2.5%\",\n    borderTopStartRadius: 9,\n    borderTopEndRadius: 9,\n    justifyContent: \"center\",\n    backgroundColor: \"#DFE1E6\",\n  },\n  area: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  children: {\n    justifyContent: \"center\",\n  },\n  text: {\n    fontSize: 20,\n  },\n  subText: {\n    fontSize: 13,\n  },\n});\n","import { StyleSheet, View, Image, Text } from \"react-native\";\nimport { Itens } from \"../../../models/from-api/itens.model\";\n\nexport function ItemsItem({ data }: { data: Itens }) {\n  const hidden = true;\n  return (\n    <View style={styles.container}>\n      <View style={{ flex: 1, alignItems: \"center\" }}>\n        {hidden ? (\n          <View style={styles.noPhoto}>\n            <Text style={styles.noPhotoText}>\n              {data.descricaoProduto.charAt(0).toUpperCase()}\n            </Text>\n          </View>\n        ) : (\n          <Image\n            source={require(\"../../../../assets/no-photo.png\")}\n            style={{ width: 120, height: 100, borderRadius: 10 }}\n          />\n        )}\n        <Text style={styles.title}>{data.produto}</Text>\n      </View>\n      <View style={{ flex: 2 }}>\n        <View>\n          <Text style={styles.title}>{data.descricaoProduto}</Text>\n          <Text style={styles.description}>Armazem: {data.armazem}</Text>\n          <Text style={styles.description}>Tipo: {data.tipoEntrega}</Text>\n        </View>\n        <View\n          style={{\n            flex: 1,\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <Text style={styles.title}>\n            {data.quantidade} x R$ {data.preco.toFixed(2).replace(\".\", \",\")}\n          </Text>\n          <Text style={styles.title}>\n            R$ {data.total.toFixed(2).replace(\".\", \",\")}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"row\",\n    backgroundColor: \"#DFE1E6\",\n    borderRadius: 10,\n    padding: 8,\n    marginVertical: 4,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#123262\",\n  },\n  description: {\n    fontSize: 12,\n    color: \"grey\",\n  },\n  noPhoto: {\n    width: 100,\n    height: 100,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 10,\n    backgroundColor: \"#123262\",\n  },\n  noPhotoText: {\n    fontSize: 48,\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n});\n","import { useState } from \"react\";\nimport { StyleSheet, View, Text } from \"react-native\";\nimport { Pagamentos } from \"../../../models/from-api/pagamentos.model\";\n\nexport function PaymentMethodItem({ data }: { data: Pagamentos }) {\n  const value: number = +data.valor;\n  const installments: number = +data.parcelas;\n  const [installment] = useState(value / installments);\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>{data.forma}</Text>\n      <View style={{ flexDirection: \"row\", justifyContent: \"space-between\" }}>\n        <Text style={styles.description}>\n          {data.parcelas} x R$ {installment.toFixed(2).replace(\".\", \",\")}\n        </Text>\n        <Text style={styles.title}>\n          R$ {data.valor.toFixed(2).replace(\".\", \",\")}\n        </Text>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#DFE1E6\",\n    borderRadius: 10,\n    padding: 8,\n    marginVertical: 4,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#123262\",\n  },\n  description: {\n    fontSize: 12,\n    color: \"grey\",\n  },\n});\n","import { useState, useEffect, useContext } from \"react\";\nimport { StatusBar } from \"expo-status-bar\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  ListRenderItem,\n  ActivityIndicator,\n  ScrollView\n} from \"react-native\";\nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport { StackParams } from \"../../types/stack.params\";\nimport { MaterialIcons as Icon } from \"@expo/vector-icons\";\nimport { Button } from \"../../components/buttons/button\";\nimport { ApplyDiscountModal } from \"../../components/modals/apply-discount\";\nimport { Orcamento } from \"../../models/from-api/orcamento.model\";\nimport { Dialog } from \"../../components/modals/dialog\";\nimport { useBudgetService } from \"../../services/budget.service\";\nimport { AuthContext } from \"../../contexts/auth.provider\";\nimport { Dropdown } from \"../../components/dropdowns/dropdown\";\nimport { Itens } from \"../../models/from-api/itens.model\";\nimport { Pagamentos } from \"../../models/from-api/pagamentos.model\";\nimport { ItemsItem } from \"../../components/lists/discount/items-item\";\nimport { PaymentMethodItem } from \"../../components/lists/discount/payment-method-item\";\nimport axios from \"axios\";\n\ninterface Properties extends StackScreenProps<StackParams, \"Discount\"> {}\n\nexport default function Discount({ route, navigation }: Properties) {\n  const { _budget, _branch, _discountValue } = route.params;\n  const authContext = useContext(AuthContext);\n  const [visible, setVisible] = useState(false);\n  const [budgetData, setBudgetData] = useState<Orcamento>();\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n  const service = useBudgetService();\n\n  const renderItemItens: ListRenderItem<Itens> = ({ item }) => {\n    return <ItemsItem data={item} />;\n  };\n\n  const renderItemPagamentos: ListRenderItem<Pagamentos> = ({ item }) => {\n    return <PaymentMethodItem data={item} />;\n  };\n\n  useEffect(() => {\n    service\n      .loadBudget(_budget, _branch)\n      .then((budget) => {\n        setBudgetData(budget);\n      })\n      .catch((result) => {\n        if (axios.isAxiosError(result)) {\n          if (result.response?.data?.error) {\n            Alert(\"Erro\", result.response?.data?.error);\n          } else {\n            Alert(\"Erro\", \"Servidor indisponível\");\n          }\n        }\n      });\n  }, []);\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  if (budgetData) {\n    return (\n      <View style={styles.container}>\n        <View style={styles.topField}>\n          <View style={styles.header}>\n            <Icon\n              testID=\"icon\"\n              name=\"keyboard-arrow-left\"\n              size={48}\n              color=\"white\"\n              onPress={() => {\n                navigation && navigation.navigate(\"Home\");\n              }}\n            />\n            <Text style={styles.headerText}>Orçamento #{_budget}</Text>\n          </View>\n          <View\n            style={{\n              flex: 4,\n              justifyContent: \"space-between\",\n              paddingBottom: 8,\n            }}\n          >\n            <View>\n              <Text style={styles.title}>Vendedor</Text>\n              <Text style={styles.subTitle}>\n                {budgetData.vendedor} - {budgetData.nomeVendedor}\n              </Text>\n              <Text style={styles.title}>Cliente</Text>\n              <Text style={styles.subTitle}>\n                {budgetData.cliente} - {budgetData.nomeCliente}\n              </Text>\n            </View>\n            <View style={styles.budget}>\n              <View style={{ flexDirection: \"row\", alignItems: \"flex-end\" }}>\n                <View style={[{ backgroundColor: \"limegreen\" }, styles.box]}>\n                  <Text style={styles.headerText}>\n                    {budgetData.tipoOrcamento}\n                  </Text>\n                </View>\n                <View style={[{ backgroundColor: \"red\" }, styles.box]}>\n                  <Text style={styles.headerText}>\n                    {budgetData.statusOrcamento}\n                  </Text>\n                </View>\n              </View>\n              {budgetData.desconto > 0 ? (\n                <View>\n                  <Text\n                    style={{\n                      fontSize: 18,\n                      fontWeight: \"bold\",\n                      color: \"grey\",\n                      textDecorationLine: \"line-through\",\n                    }}\n                  >\n                    R$ {budgetData.totalBruto.toFixed(2).replace(\".\", \",\")}\n                  </Text>\n                  <Text\n                    style={{\n                      fontSize: 24,\n                      fontWeight: \"bold\",\n                      color: \"red\",\n                    }}\n                  >\n                    R$ {budgetData.totalLiquido.toFixed(2).replace(\".\", \",\")}\n                  </Text>\n                </View>\n              ) : (\n                <Text\n                  style={{\n                    fontSize: 24,\n                    fontWeight: \"bold\",\n                    color: \"white\",\n                  }}\n                >\n                  R$ {budgetData.totalLiquido.toFixed(2).replace(\".\", \",\")}\n                </Text>\n              )}\n            </View>\n          </View>\n        </View>\n        <ScrollView style={styles.bottomField}>\n          <Dropdown\n            title=\"Itens\"\n            renderItem={renderItemItens}\n            data={budgetData.itens}\n          />\n          <Dropdown\n            renderItem={renderItemPagamentos}\n            title=\"Forma de pagamento\"\n            data={budgetData.pagamentos}\n          />\n        </ScrollView>\n        <footer>\n          <View style={{ padding: \"5%\" }}>\n            <Button title=\"CONTINUAR\" onPress={() => setVisible(true)} />\n          </View>\n        </footer>\n        <ApplyDiscountModal\n          dismiss={() => {\n            setVisible(false);\n          }}\n          budgetObject={budgetData}\n          discountLimit={authContext.user?.discountLimit!}\n          visible={visible}\n          budget={_budget}\n          branch={_branch}\n          total={budgetData.totalBruto}\n        />\n        <Dialog\n          visible={dialog.visible}\n          title={dialog.title}\n          content={dialog.content}\n          dismiss={() => setDialog(defaultDialog)}\n        />\n        <StatusBar\n          style=\"light\"\n          translucent={false}\n          backgroundColor=\"#212A4D\"\n        />\n      </View>\n    );\n  } else {\n    return (\n      <View style={styles.loading}>\n        <ActivityIndicator size={128} color=\"white\" />\n        <Dialog\n          visible={dialog.visible}\n          title={dialog.title}\n          content={dialog.content}\n          dismiss={() => {\n            navigation && navigation.navigate(\"Home\");\n          }}\n        />\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    backgroundColor: \"#F0F2F7\",\n  },\n  loading: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#212A4D\",\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  headerText: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n  topField: {\n    height: 256,\n    backgroundColor: \"#1F2D5A\",\n  },\n  title: {\n    fontSize: 14,\n    color: \"silver\",\n    paddingHorizontal: \"5%\",\n  },\n  subTitle: {\n    fontSize: 16,\n    color: \"white\",\n    paddingHorizontal: \"5%\",\n    marginBottom: 8,\n  },\n  budget: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginHorizontal: \"5%\",\n  },\n  box: {\n    height: 30,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 4,\n    paddingHorizontal: 8,\n    marginRight: 8,\n  },\n  bottomField: {\n    flex: 5,\n    paddingTop: \"2.5%\",\n    marginHorizontal: \"5%\",\n  },\n});\n","import { ActivityIndicator, StyleSheet } from \"react-native\";\nimport { SwipeButton as RNExpoSwipeButton } from \"react-native-expo-swipe-button\";\nimport { MaterialIcons as Icon } from \"@expo/vector-icons\";\n\ninterface Properties {\n  onComplete: () => void;\n  title: string;\n  underlayTitle: string;\n  disabled?: boolean\n}\n\nexport function SwipeButton(properties: Properties) {\n  return (\n    <RNExpoSwipeButton\n      Icon={\n        !properties.disabled ?\n          <Icon name=\"keyboard-arrow-right\" size={42} color=\"white\" />\n          :\n          <ActivityIndicator size={42} color=\"white\" />\n      }\n      onComplete={properties.onComplete}\n      disabled={properties.disabled}\n      title={properties.title}\n      titleStyle={styles.title}\n      underlayTitle={properties.underlayTitle}\n      underlayTitleStyle={styles.title}\n      underlayStyle={{ backgroundColor: \"#212A4D\" }}\n      borderRadius={180}\n      containerStyle={{ backgroundColor: \"#1F2D5A\", borderRadius: 180 }}\n      circleBackgroundColor=\"#163E60\"\n      circleSize={58}\n      goBackToStart={true}\n      iconContainerStyle={{ paddingLeft: 16 }}\n    />\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n});\n","import { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, View, ScrollView, Text } from \"react-native\";\nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport { StackParams } from \"../../../types/stack.params\";\nimport { MaterialIcons as Icon } from \"@expo/vector-icons\";\nimport { SwipeButton } from \"../../../components/buttons/swipe-button\";\nimport { useContext, useState } from \"react\";\nimport { Dialog } from \"../../../components/modals/dialog\";\nimport { useBudgetService } from \"../../../services/budget.service\";\nimport { AuthContext } from \"../../../contexts/auth.provider\";\nimport { LogTypeEnum, UserLogs } from \"../../../models/user.logs.model\";\nimport axios from \"axios\";\n\ninterface Properties\n  extends StackScreenProps<StackParams, \"DiscountConfirmation\"> {}\n\nexport default function DiscountConfirmation({\n  navigation,\n  route,\n}: Properties) {\n  const { _branch, _budget, _budgetObject, _discountValue } = route.params;\n  const authContext = useContext(AuthContext);\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n  const date = new Date();\n  const day = date.getDate();\n  const month = date.getMonth() + 1;\n  const year = date.getFullYear();\n  const service = useBudgetService();\n  const [disabled, setDisabled] = useState(false);\n\n  const releaseDiscount = () => {\n    setDisabled(true);\n    service\n      .releaseDiscount(_budget, _branch, _discountValue)\n      .then(async () => {\n        let newLog: UserLogs = {\n          title: `Desconto no orçamento ${_budget}`,\n          date: `${day}/${month}/${year}`,\n          description: `R$ ${(\n            _budgetObject.totalBruto - _discountValue\n          ).toFixed(2)}`,\n          type: LogTypeEnum.DESCONTO_ORCAMENTO,\n        };\n        await authContext.addLog(newLog);\n        Alert(\"Sucesso\", \"Efetuado desconto para o orçamento: \" + _budget);\n      })\n      .catch((result) => {\n        if (axios.isAxiosError(result)) {\n          if (result.response?.data?.error) {\n            Alert(\"Erro\", result.response?.data?.error);\n          } else {\n            Alert(\"Erro\", \"Servidor indisponível\");\n          }\n        }\n      });\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  return (\n    <ScrollView contentContainerStyle={styles.container} scrollEnabled={false}>\n      <View style={styles.topField}>\n        <View style={styles.header}>\n          <Icon\n            testID=\"icon\"\n            name=\"keyboard-arrow-left\"\n            size={48}\n            color=\"white\"\n            onPress={() => {\n              navigation && navigation.navigate(\"Home\");\n            }}\n          />\n          <Text style={styles.headerText}>Desconto</Text>\n        </View>\n        <Text style={styles.client}>{_budgetObject.nomeCliente}</Text>\n        <Text style={styles.budget}>Orçamento #{_budget}</Text>\n      </View>\n      <View style={styles.bottomField}>\n        <View>\n          <Text style={styles.result}>{_budgetObject.tipoOrcamento}</Text>\n          <Text style={styles.description}>Tipo do orçamento</Text>\n        </View>\n        <View>\n          <Text style={styles.result}>{_budgetObject.nomeVendedor}</Text>\n          <Text style={styles.description}>Vendedor</Text>\n        </View>\n        <View>\n          <Text style={styles.result}>\n            Total R${\" \"}\n            {(_budgetObject.totalBruto - _discountValue)\n              .toFixed(2)\n              .replace(\".\", \",\")}\n          </Text>\n          <Text style={styles.description}>\n            Pagamento\n            <Text style={{ fontWeight: \"bold\" }}>\n              {\" \"}\n              em {_budgetObject.pagamentos[0].forma}\n            </Text>\n          </Text>\n        </View>\n        <SwipeButton\n          onComplete={releaseDiscount}\n          title=\"EFETUAR DESCONTO\"\n          underlayTitle=\"LIBERAR\"\n          disabled={disabled}\n        />\n      </View>\n      <Dialog\n        visible={dialog.visible}\n        title={dialog.title}\n        content={dialog.content}\n        dismiss={() => {\n          if (dialog.title != \"Erro\") {\n            navigation && navigation.navigate(\"Home\");\n            setDisabled(false);\n          } else {\n            setDisabled(false);\n          }\n          setDialog(defaultDialog);\n        }}\n      />\n      <StatusBar style=\"light\" translucent={false} backgroundColor=\"#212A4D\" />\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: \"column\",\n    backgroundColor: \"#F0F2F7\",\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  headerText: {\n    fontSize: 16,\n    color: \"white\",\n  },\n  topField: {\n    flex: 2,\n    backgroundColor: \"#1F2D5A\",\n  },\n  client: {\n    fontSize: 28,\n    fontWeight: \"bold\",\n    color: \"white\",\n    paddingHorizontal: \"5%\",\n    paddingTop: 52,\n  },\n  budget: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"white\",\n    paddingHorizontal: \"5%\",\n    paddingTop: 64,\n  },\n  bottomField: {\n    flex: 4,\n    flexDirection: \"column\",\n    marginHorizontal: \"5%\",\n    justifyContent: \"space-around\",\n  },\n  result: {\n    fontSize: 28,\n    fontWeight: \"bold\",\n    color: \"#454545\",\n  },\n  description: {\n    fontSize: 16,\n    color: \"#454545\",\n  },\n});\n","import { StackParams } from \"../types/stack.params\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport Home from \"../pages/Home\";\nimport Discount from \"../pages/Discount\";\nimport DiscountConfirmation from \"../pages/Discount/Confirmation\";\n\nexport default function AppRoutes() {\n  const Stack = createStackNavigator<StackParams>();\n  return (\n    <Stack.Navigator screenOptions={{ headerShown: false }}>\n      <Stack.Screen name=\"Home\" component={Home} />\n      <Stack.Screen name=\"Discount\" component={Discount} />\n      <Stack.Screen\n        name=\"DiscountConfirmation\"\n        component={DiscountConfirmation}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { TextInput, TextInputProps } from \"react-native\";\nimport { InputStyles as styles } from \"./input-styles\";\n\nexport function EmailInput(properties: TextInputProps) {\n  return (\n    <TextInput\n      {...properties}\n      textContentType=\"emailAddress\"\n      keyboardType=\"email-address\"\n      autoCapitalize=\"none\"\n      maxFontSizeMultiplier={14}\n      placeholder=\"E-mail\"\n      placeholderTextColor=\"#1F537E\"\n      style={styles.input}\n    />\n  );\n}\n","import { useState, useContext, useEffect } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport { StackParams } from \"../../types/stack.params\";\nimport { Button } from \"../../components/buttons/button\";\nimport { Dialog } from \"../../components/modals/dialog\";\nimport { AuthContext } from \"../../contexts/auth.provider\";\nimport { EmailInput } from \"../../components/inputs/email-input\";\nimport { StatusBar } from \"expo-status-bar\";\n\ninterface Properties\n  extends StackScreenProps<StackParams, \"PasswordRecovery\"> {}\n\nexport default function PasswordRecovery({ navigation }: Properties) {\n  const authContext = useContext(AuthContext);\n  const [email, setEmail] = useState<string>(\"\");\n  const [dialogVisible, setDialogVisible] = useState<boolean>(false);\n  const [dialogTitle, setDialogTitle] = useState<string>(\"\");\n  const [dialogContent, setDialogContent] = useState<string>(\"\");\n  const [disabled, setDisabled] = useState(true);\n\n  useEffect(() => {\n    setDisabled(!email);\n  }, [email]);\n\n  const handleRecoverPassword = () => {\n    if (email) {\n      authContext.recoverPassword(email);\n      navigation && navigation.navigate(\"SignIn\");\n    } else {\n      Alert(\n        \"Dado mandatório\",\n        \"Por favor, forneça o seu e-mail para recuperar sua senha.\"\n      );\n    }\n    setDialogVisible(false);\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialogTitle(title);\n    setDialogContent(content);\n    setDialogVisible(true);\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={{ marginHorizontal: \"10%\" }}>\n        <View>\n          <EmailInput value={email} onChangeText={setEmail} />\n          <Button\n            title=\"ENVIAR\"\n            disabled={disabled}\n            onPress={() => {\n              Alert(\n                \"Recuperação de senha\",\n                \"Em alguns instantes uma mensagem de e-mail chegará em sua caixa de entrada com as instruções para redefinição da sua senha.\"\n              );\n            }}\n          />\n        </View>\n      </View>\n      <Dialog\n        title={dialogTitle}\n        content={dialogContent}\n        visible={dialogVisible}\n        dismiss={handleRecoverPassword}\n      />\n      <StatusBar style=\"light\" translucent={false} backgroundColor=\"silver\" />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: \"#F0F2F7\",\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: \"#454545\",\n  },\n});\n","import { useContext, useEffect, useState } from \"react\";\nimport { StyleSheet, View, Image, Text } from \"react-native\";\nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport { AuthContext } from \"../../contexts/auth.provider\";\nimport { StackParams } from \"../../types/stack.params\";\nimport { Button } from \"../../components/buttons/button\";\nimport { CommandLink } from \"../../components/buttons/command-link\";\nimport { EmailInput } from \"../../components/inputs/email-input\";\nimport { PasswordInput } from \"../../components/inputs/password-input\";\nimport { StatusBar } from \"expo-status-bar\";\n\ninterface Properties extends StackScreenProps<StackParams, \"SignIn\"> {}\n\nexport default function SignIn({ navigation }: Properties) {\n  const authContext = useContext(AuthContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n\n  useEffect(() => {\n    setDisabled(!(email && password));\n  }, [email, password]);\n\n  const handleSingIn = () => {\n    authContext.signIn(email, password);\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={{ marginHorizontal: \"10%\" }}>\n        <View style={{ marginBottom: 32 }}>\n          <Image\n            source={require(\"../../../assets/adaptive-icon.png\")}\n            style={{ width: 64, height: 64 }}\n          />\n          <Text style={styles.title}>Olá,</Text>\n          <Text style={styles.title}>seja bem-vindo(a).</Text>\n        </View>\n        <View style={{ marginBottom: 40 }}>\n          <EmailInput value={email} onChangeText={setEmail} />\n          <PasswordInput value={password} onChangeText={setPassword} />\n          <Button title=\"ENTRAR\" disabled={disabled} onPress={handleSingIn} />\n        </View>\n        <CommandLink\n          testID=\"link-cadastrar\"\n          onPress={() => {\n            navigation && navigation.navigate(\"SignUp\");\n          }}\n          title=\"Cadastre-se\"\n        />\n        <CommandLink\n          testID=\"link-recuperar-senha\"\n          onPress={() => {\n            navigation && navigation.navigate(\"PasswordRecovery\");\n          }}\n          title=\"Esqueceu sua senha?\"\n        />\n      </View>\n      <StatusBar style=\"light\" translucent={false} backgroundColor=\"silver\" />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#F0F2F7\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: \"bold\",\n    width: 300,\n    color: \"#1F537E\",\n  },\n});\n","import { useContext, useState } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { Button } from \"../../components/buttons/button\";\nimport { Dialog } from \"../../components/modals/dialog\";\nimport { StackScreenProps } from \"@react-navigation/stack\";\nimport { StackParams } from \"../../types/stack.params\";\nimport { AuthContext } from \"../../contexts/auth.provider\";\nimport { Portrait } from \"../../components/portrait/portrait\";\nimport { EmailInput } from \"../../components/inputs/email-input\";\nimport { PasswordInput } from \"../../components/inputs/password-input\";\nimport { FullNameInput } from \"../../components/inputs/fullname-input\";\nimport { StatusBar } from \"expo-status-bar\";\n\ninterface Properties extends StackScreenProps<StackParams, \"SignUp\"> {}\n\nexport default function SignUp({ navigation }: Properties) {\n  const authContext = useContext(AuthContext);\n  const [fullName, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n  const [portrait, setPortrait] = useState<string | undefined>();\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n\n  const check = (\n    fullName: string,\n    email: string,\n    password: string,\n    confirmPassword: string,\n    portrait: string\n  ) => {\n    if (\n      fullName &&\n      email &&\n      password &&\n      confirmPassword &&\n      portrait &&\n      password == confirmPassword\n    ) {\n      setDisabled(false);\n    } else {\n      setDisabled(true);\n    }\n  };\n\n  const pickImage = async () => {\n    const uri = await authContext.pickImage();\n    if (uri) {\n      setPortrait(uri);\n      check(fullName, email, password, confirmPassword, uri);\n    } else {\n      Alert(\n        \"Erro\",\n        \"O retrato deve ser uma imagem de formato PNG/JPEG e não deve exceder o tamanho de 2MBs\"\n      );\n    }\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={{ marginHorizontal: \"10%\" }}>\n        <View>\n          <Portrait source={portrait} editable={true} onPress={pickImage} />\n          <FullNameInput\n            value={fullName}\n            onChangeText={(text) => {\n              setFullName(text);\n              check(fullName, email, password, confirmPassword, portrait!);\n            }}\n            maxLength={20}\n          />\n          <EmailInput\n            value={email}\n            onChangeText={(text) => {\n              setEmail(text);\n              check(fullName, text, password, confirmPassword, portrait!);\n            }}\n          />\n          <PasswordInput\n            value={password}\n            onChangeText={(text) => {\n              setPassword(text);\n              check(fullName, email, text, confirmPassword, portrait!);\n            }}\n          />\n          <PasswordInput\n            placeholder=\"Confirmar senha\"\n            value={confirmPassword}\n            onChangeText={(text) => {\n              setConfirmPassword(text);\n              check(fullName, email, password, text, portrait!);\n            }}\n          />\n          <Button\n            title=\"CONTINUAR\"\n            testID=\"continuar\"\n            disabled={disabled}\n            onPress={() => {\n              setDialog({\n                title: \"Verificação de e-mail\",\n                content:\n                  \"Aguarde. Um e-mail de verificação foi enviado para sua caixa de entrada. Após a verificação, tente efetuar acesso.\",\n                visible: true,\n              });\n            }}\n          />\n        </View>\n      </View>\n      <Dialog\n        title={dialog.title}\n        content={dialog.content}\n        visible={dialog.visible}\n        dismiss={() => {\n          if (dialog.title != \"Erro\") {\n            authContext.signUp(email, password, fullName, portrait!);\n            navigation && navigation.navigate(\"SignIn\");\n          }\n          setDialog(defaultDialog);\n        }}\n      />\n      <StatusBar style=\"light\" translucent={false} backgroundColor=\"silver\" />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: \"#F0F2F7\",\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: \"#454545\",\n  },\n});\n","import { createStackNavigator } from \"@react-navigation/stack\";\nimport PasswordRecovery from \"../pages/PasswordRecovery\";\nimport SignIn from \"../pages/SignIn\";\nimport SignUp from \"../pages/SignUp\";\nimport { StackParams } from \"../types/stack.params\";\n\nexport default function AuthRoutes() {\n  const Stack = createStackNavigator<StackParams>();\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"SignIn\"\n        component={SignIn}\n        options={{\n          title: \"\",\n          headerShown: false,\n        }}\n      />\n      <Stack.Screen\n        name=\"SignUp\"\n        component={SignUp}\n        options={{\n          title: \"Seus dados\",\n          headerTransparent: true,\n        }}\n      />\n      <Stack.Screen\n        name=\"PasswordRecovery\"\n        component={PasswordRecovery}\n        options={{\n          title: \"Recuperação de senha\",\n          headerTransparent: true,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n","import { useContext } from \"react\";\nimport { ActivityIndicator, SafeAreaView } from \"react-native\";\nimport { AuthContext } from \"../contexts/auth.provider\";\nimport AppRoutes from \"./app.routes\";\nimport AuthRoutes from \"./auth.routes\";\n\nexport default function Routes() {\n  const authContext = useContext(AuthContext);\n  if (authContext.loading) {\n    return (\n      <SafeAreaView\n        style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}\n      >\n        <ActivityIndicator size={128} color=\"white\" />\n      </SafeAreaView>\n    );\n  } else {\n    return authContext.user && authContext.user.verified ? (\n      <AppRoutes />\n    ) : (\n      <AuthRoutes />\n    );\n  }\n}\n","import { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, SafeAreaView, Platform } from \"react-native\";\nimport \"react-native-gesture-handler\";\nimport AuthProvider from \"./src/contexts/auth.provider\";\nimport Routes from \"./src/routes\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport * as serviceWorkerRegistration from \"./src/serviceWorkerRegistration\";\nexport default function App() {\n  return (\n    <SafeAreaView style={styles.container}>\n      <NavigationContainer>\n        <AuthProvider>\n          <Routes />\n          <StatusBar style=\"light\" translucent={false} />\n        </AuthProvider>\n      </NavigationContainer>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#212A4D\",\n  },\n});\n\nif (Platform.OS === \"web\") {\n  serviceWorkerRegistration.register();\n}\n","module.exports = __webpack_public_path__ + \"static/media/no-photo.263b9da4.png\";","module.exports = __webpack_public_path__ + \"static/media/adaptive-icon.9c43d51e.png\";","import { createContext, useEffect, useMemo, useState } from \"react\";\nimport { User } from \"../models/user.model\";\nimport { firebaseAuth, storage, realtime } from \"../services/firebase.service\";\nimport firebase from \"firebase/compat/app\";\nimport { Dialog } from \"../components/modals/dialog\";\nimport { UserLogs } from \"../models/user.logs.model\";\nimport * as ImagePicker from \"expo-image-picker\";\n\ntype AuthContextProps = {\n  user: User | undefined;\n  company: string | undefined;\n  department: string | undefined;\n  urlBackend: string | undefined;\n  loading: boolean;\n  signUp(\n    _email: string,\n    _password: string,\n    _fullName: string,\n    _portrait: string\n  ): Promise<void>;\n  signIn(_email: string, _password: string): Promise<void>;\n  signOut(): Promise<void>;\n  recoverPassword(_email: string): Promise<void>;\n  userUpdate(\n    _fullName: string,\n    _portrait?: string,\n    _currentPassword?: string,\n    _newPassword?: string\n  ): Promise<void>;\n  addLog(log: UserLogs): Promise<void>;\n  pickImage(): Promise<string>;\n};\n\nconst defaultState = {\n  user: undefined,\n  company: undefined,\n  department: undefined,\n  urlBackend: undefined,\n  loading: true,\n  signUp: async () => {},\n  signIn: async () => {},\n  signOut: async () => {},\n  recoverPassword: async () => {},\n  userUpdate: async () => {},\n  addLog: async () => {},\n  pickImage: async (): Promise<string> => {\n    return Promise.resolve(\"\");\n  },\n};\n\nexport const AuthContext = createContext<AuthContextProps>(defaultState);\n\ntype AuthProviderProps = {\n  children?: React.ReactNode;\n};\n\nconst AuthProvider = ({ children }: AuthProviderProps) => {\n  const [user, setUser] = useState<User>();\n  const [company, setCompany] = useState<string | undefined>(\"\");\n  const [department, setDepartment] = useState<string | undefined>(\"\");\n  const [urlBackend, setUrlBackend] = useState<string | undefined>(\"\");\n  const [loading, setLoading] = useState<boolean>(true);\n  const defaultDialog = { title: \"\", content: \"\", visible: false };\n  const [dialog, setDialog] = useState(defaultDialog);\n  const [expireAt, setExpireAt] = useState(\"\");\n\n  useEffect(() => {\n    firebaseAuth.onAuthStateChanged(async (currentUser) => {\n      if (currentUser) {\n        if (currentUser.emailVerified) {\n          if (!user) {\n            await _getUserRegister(currentUser.uid);\n          }\n        } else {\n          Alert(\"E-mail não verificado\", \"Por favor verifique seu [e-mail].\");\n        }\n      } else {\n        signOut();\n      }\n      setLoading(false);\n    });\n  }, []);\n\n  const signUp = async (\n    _email: string,\n    _password: string,\n    _fullName: string,\n    _portrait: string\n  ) => {\n    setLoading(true);\n    await firebaseAuth\n      .createUserWithEmailAndPassword(_email, _password)\n      .then(async (result) => {\n        if (result.user) {\n          let validate = true;\n          firebaseAuth.languageCode = \"pt\";\n          result.user.sendEmailVerification().catch((error) => {\n            validate = false;\n            Alert(\n              \"Erro\",\n              `Erro ao enviar o e-mail de verificação. ${error.message}`\n            );\n          });\n          if (result.user && validate) {\n            let _portraitURL = await _uploadImage(_portrait, result.user.uid);\n            let _user: User = {\n              uid: result.user.uid,\n              fullName: _fullName,\n              verified: false,\n              portrait: _portraitURL,\n              discountLimit: 0,\n            };\n            await _userRegister(_user);\n          }\n        }\n      })\n      .catch((error) => {\n        if (error.code === \"auth/weak-password\") {\n          Alert(\"Senha fraca\", \"Informe uma senha mais forte.\");\n        } else if (error.code === \"auth/invalid-email\") {\n          Alert(\"E-mail inválido\", \"Por favor informe um e-mail válido.\");\n        } else {\n          Alert(\"Erro\", `Ocorreu um problema. ${error.message}`);\n        }\n      });\n  };\n\n  const signIn = async (_email: string, _password: string) => {\n    setLoading(true);\n    await firebaseAuth\n      .signInWithEmailAndPassword(_email, _password)\n      .then(async (currentUser) => {\n        if (currentUser.user?.emailVerified) {\n          await _getUserRegister(currentUser.user.uid);\n        } else {\n          Alert(\"E-mail não verificado\", \"Por favor verifique seu [e-mail].\");\n        }\n        setLoading(false);\n      })\n      .catch((error) => {\n        if (error) {\n          setLoading(false);\n          Alert(\n            \"Inválido\",\n            \"Nenhum usuário encontrado com as credenciais fornecidas.\"\n          );\n        }\n      });\n  };\n\n  const signOut = async () => {\n    setLoading(true);\n    await firebaseAuth.signOut();\n    setUser(undefined);\n    setCompany(\"\");\n    setDepartment(\"\");\n    setLoading(false);\n  };\n\n  const recoverPassword = async (_email: string) => {\n    firebaseAuth.languageCode = \"pt\";\n    await firebaseAuth.sendPasswordResetEmail(_email).catch((error) => {\n      Alert(\n        \"Erro\",\n        `Não foi encontrado um usuário com o endereço de e-mail fornecido. ${error.message}`\n      );\n    });\n  };\n\n  const userUpdate = async (\n    _fullName: string,\n    _portrait: string,\n    _currentPassword?: string,\n    _newPassword?: string\n  ) => {\n    setLoading(true);\n    let _portraitURL = \"\";\n    if (_portrait != user?.portrait) {\n      _portraitURL = await _uploadImage(_portrait, user?.uid!);\n    } else {\n      _portraitURL = user?.portrait;\n    }\n    let _user = firebaseAuth.currentUser!;\n    await realtime\n      .ref(\"users\")\n      .child(_user.uid)\n      .update({\n        fullName: _fullName,\n        portrait: _portraitURL,\n      })\n      .then(() => {\n        let _user = user!;\n        _user.fullName = _fullName;\n        _user.portrait = _portraitURL;\n        setUser(_user);\n      });\n    if (_currentPassword && _newPassword) {\n      await _userUpdatePassword(_currentPassword, _newPassword);\n    }\n    setLoading(false);\n  };\n\n  const addLog = async (log: UserLogs) => {\n    let _user: User = user!;\n    let logs = _user.logs ? _user.logs : [];\n    logs.reverse();\n    logs.push(log);\n    if (logs.length > 5) {\n      logs.shift();\n    }\n\n    await realtime.ref(\"users\").child(_user.uid).child(\"logs\").update(logs);\n    _user.logs = logs;\n    setUser(_user);\n  };\n\n  const pickImage = async (): Promise<string> => {\n    let value = \"\";\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.1,\n    });\n    if (!result.canceled) {\n      const response = await fetch(result.assets[0].uri);\n      const blob = await response.blob();\n      if (\n        blob.size <= 2000000 &&\n        (blob.type == \"image/png\" || blob.type == \"image/jpeg\")\n      ) {\n        value = result.assets[0].uri;\n      }\n    }\n    return value;\n  };\n\n  const _reauthenticate = async (currentPassword: string) => {\n    const user = firebaseAuth.currentUser!;\n    const credentials = firebase.auth.EmailAuthProvider.credential(\n      user.email!,\n      currentPassword\n    );\n    return await user.reauthenticateWithCredential(credentials);\n  };\n\n  const _userUpdatePassword = async (\n    _currentPassword: string,\n    _newPassword: string\n  ) => {\n    if (_currentPassword && _newPassword) {\n      await _reauthenticate(_currentPassword)\n        .then(async () => {\n          await firebaseAuth.currentUser\n            ?.updatePassword(_newPassword)\n            .then(async () => {\n              await _alertPasswordChange();\n            })\n            .catch((error) => {\n              Alert(\"Erro\", error.message);\n            });\n        })\n        .catch((error) => {\n          Alert(\"Erro\", \"Senha atual incorreta.\");\n        });\n    }\n  };\n\n  const _alertPasswordChange = async () =>\n    new Promise((_) => {\n      Alert(\n        \"Alteração de senha\",\n        \"Sua senha foi alterada. Efetue acesso novamente.\"\n      );\n      signOut();\n    });\n\n  const _uploadImage = async (_portrait: string, _uid: string) => {\n    const response = await fetch(_portrait);\n    const blob = await response.blob();\n    const filename = _uid;\n    let urlImage = \"\";\n    await storage\n      .ref()\n      .child(`${filename}`)\n      .put(blob)\n      .then(async (snapshot) => {\n        urlImage = await snapshot.ref.getDownloadURL();\n      });\n    return urlImage;\n  };\n\n  const _userRegister = async (_user: User) => {\n    await realtime\n      .ref(\"users\")\n      .child(_user.uid)\n      .set({\n        fullName: _user.fullName,\n        portrait: _user.portrait,\n        discountLimit: _user.discountLimit,\n        verified: _user.verified,\n      })\n      .then(() => {\n        setUser(_user);\n      });\n  };\n\n  const _getUserRegister = async (_uid: string) => {\n    await realtime\n      .ref(\"users\")\n      .child(_uid)\n      .once(\"value\")\n      .then(async (snapshot) => {\n        let _user: User = {\n          uid: _uid,\n          fullName: snapshot.val().fullName,\n          portrait: snapshot.val().portrait,\n          company: snapshot.val().company,\n          department: snapshot.val().department,\n          discountLimit: snapshot.val().discountLimit,\n          verified: snapshot.val().verified,\n          branches: snapshot.child(\"branches\").val(),\n          logs: snapshot.child(\"logs\").val(),\n        };\n        if (!_user.verified) {\n          let currentUser = await firebase.auth().currentUser;\n          if (currentUser?.emailVerified) {\n            _user.verified = true;\n            await _userRegister(_user);\n          }\n        }\n        setUser(_user);\n        _user.department && (await _storeDepartment(_user.department));\n        _user.company && (await _licenseCheck(_user.company));\n      });\n  };\n\n  const _storeDepartment = async (_department: string) => {\n    await realtime\n      .ref(\"departments\")\n      .child(_department)\n      .once(\"value\")\n      .then(async (snapshot) => setDepartment(snapshot.val()));\n  };\n\n  const _licenseCheck = async (company: string) => {\n    const date = new Date();\n    const currentDay = date.getDate();\n    const currentMonth = date.getMonth() + 1;\n    const currentYear = date.getFullYear();\n\n    await realtime\n      .ref(\"companies\")\n      .child(company)\n      .once(\"value\")\n      .then((snapshot) => {\n        setExpireAt(snapshot.val().expireAt);\n        setUrlBackend(snapshot.val().urlBackend);\n        setCompany(snapshot.val().name);\n      });\n    const expireAtDay = parseInt(expireAt[0] + expireAt[1]);\n    const expireAtMonth = parseInt(expireAt[3] + expireAt[4]);\n    const expireAtYear = parseInt(\n      expireAt[5] + expireAt[6] + expireAt[7] + expireAt[8]\n    );\n    if (\n      expireAtYear <= currentYear &&\n      expireAtMonth <= currentMonth &&\n      expireAtDay <= currentDay\n    ) {\n      Alert(\"Licença\", \"Sua licença expirou em \" + expireAt);\n      signOut();\n    }\n  };\n\n  const Alert = (title: string, content: string) => {\n    setDialog({ title: title, content: content, visible: true });\n  };\n\n  const contextValue = useMemo(\n    () => ({\n      user,\n      company,\n      department,\n      urlBackend,\n      loading,\n      signUp,\n      signIn,\n      signOut,\n      recoverPassword,\n      userUpdate,\n      addLog,\n      pickImage,\n    }),\n    [\n      user,\n      company,\n      department,\n      urlBackend,\n      loading,\n      signUp,\n      signIn,\n      signOut,\n      recoverPassword,\n      userUpdate,\n      addLog,\n      pickImage,\n    ]\n  );\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      <Dialog\n        title={dialog.title}\n        content={dialog.content}\n        visible={dialog.visible}\n        dismiss={() => {\n          setDialog(defaultDialog);\n        }}\n      />\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n","import { useEffect, useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  TouchableOpacityProps,\n} from \"react-native\";\n\ninterface Properties extends TouchableOpacityProps {\n  title: string;\n  disabled?: boolean;\n}\n\nexport function Button(properties: Properties) {\n  const [opacity, setOpacity] = useState(1);\n\n  useEffect(() => {\n    setOpacity(properties.disabled ? 0.5 : 1);\n  }, [properties.disabled]);\n\n  return (\n    <TouchableOpacity\n      {...properties}\n      disabled={properties.disabled}\n      style={[styles.button, { opacity: opacity }]}\n    >\n      <Text style={styles.text}>{properties.title}</Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    width: \"100%\",\n    backgroundColor: \"#1F2D5A\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingVertical: 12,\n    paddingHorizontal: 32,\n    borderRadius: 90,\n    elevation: 3,\n    marginTop: 16,\n  },\n  text: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    letterSpacing: 0.25,\n    color: \"white\",\n  },\n});\n","import {\n  StyleSheet,\n  GestureResponderEvent,\n  Modal,\n  Text,\n  View,\n} from \"react-native\";\nimport { Button } from \"../buttons/button\";\n\ninterface Properties {\n  visible: boolean | undefined;\n  dismiss: ((event: GestureResponderEvent) => void) | undefined;\n  title: string;\n  content: string;\n}\n\nexport function Dialog(properties: Properties) {\n  return (\n    <Modal\n      {...properties}\n      visible={properties.visible}\n      transparent={true}\n      animationType=\"fade\"\n    >\n      <View style={DialogStyles.container}>\n        <View style={DialogStyles.field}>\n          <Text style={DialogStyles.title}>{properties.title}</Text>\n          <Text style={DialogStyles.content}>{properties.content}</Text>\n          <Button onPress={properties.dismiss} title=\"CONTINUAR\" />\n        </View>\n      </View>\n    </Modal>\n  );\n}\n\nexport const DialogStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n  },\n  field: {\n    marginHorizontal: \"5%\",\n    backgroundColor: \"#F0F2F7\",\n    borderRadius: 18,\n    padding: \"5%\",\n  },\n  title: {\n    marginVertical: 8,\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  content: {\n    marginVertical: 8,\n    paddingHorizontal: \"5%\",\n    fontSize: 16,\n    textAlign: \"justify\",\n  },\n});\n","import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/database\";\nimport \"firebase/compat/storage\";\nimport { initializeAuth } from \"firebase/auth\";\nimport { getReactNativePersistence } from \"firebase/auth/react-native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.API_KEY,\n  authDomain: process.env.AUTH_DOMAIN,\n  projectId: process.env.PROJECT_ID,\n  storageBucket: process.env.STORAGE_BUCKET,\n  messagingSenderId: process.env.MESSAGING_SENDER_ID,\n  appId: process.env.APP_ID,\n  measurementId: process.env.MEASUREMENT_ID,\n  databaseURL: process.env.DATABASE_URL,\n};\n\nexport const fireApp = firebase.initializeApp(firebaseConfig);\n\ninitializeAuth(fireApp, {\n  persistence: getReactNativePersistence(AsyncStorage),\n});\n\nexport const firebaseAuth = fireApp.auth();\n\nexport const firestore = fireApp.firestore();\n\nexport const realtime = fireApp.database();\n\nexport const storage = fireApp.storage();\n\nexport default fireApp;\n"],"sourceRoot":""}